import{R as y,u as C,i as E,s as _,j as o,b as e,B as b,S as f,U as w,T as v}from"./index.5670e6e0.js";import{F as t}from"./index.11c9b67d.js";import{I as g}from"./index.66fe089c.js";import{E as I}from"./index.1c39e7a0.js";import{H as k}from"./index.04556cd2.js";import{s as i}from"./index.module.62e464a3.js";/* empty css                    *//* empty css                 */import"./is-node-with-content.f661b98b.js";import"./interopRequireDefault.fc5525a1.js";import"./dev-log.6e115cc9.js";import"./index.31244c45.js";import"./index.cb878f88.js";import"./convert-px.daab3cc2.js";import"./CloseCircleFill.55d4b485.js";import"./bound.bddb6539.js";function G(){var m,d;const[u,c]=y.useState(!1),x=C(),s=E(),[r]=t.useForm(),B=t.useWatch("password",r),F=t.useWatch("confirm_password",r),n=_.getState().global.userId,l=(m=s==null?void 0:s.state)==null?void 0:m.change_id,p=(d=s==null?void 0:s.state)==null?void 0:d.forget_change_id,N=async()=>{await r.validateFields().then(async h=>{if(B===F){let a;l&&(a=await w.changeNewPassword({...h,user_id:n,change_id:l})),p&&(a=await w.forgetChangeNewPassword({...h,user_id:n,change_id:p})),(a==null?void 0:a.status)===200&&x("/user/change/pwd/success")}else v.show({content:"2\u6B21\u5BC6\u7801\u8F93\u5165\u4E0D\u4E00\u81F4"})})};return o("div",{className:`${i.changepwd} flex flex-col bg-[#fff] <sm:h-min-[100vh] sm:w-330px sm:justify-center`,children:[e(k,{title:"\u4FEE\u6539\u5BC6\u7801",renderRight:!1,border:!0}),o("div",{className:"pt-[48px] px-10 sm:w-full sm:pt-0",children:[e("p",{className:"pt-22 text-2xl font-600 pb-4",children:"\u8F93\u5165\u65B0\u5BC6\u7801"}),e("p",{className:"text-xs text-color-[#787878]",children:"\u5BC6\u7801\u5FC5\u987B8\u4F4D\u4EE5\u4E0A"}),e("p",{className:"text-xs text-color-[#787878] pb-10",children:"\u9700\u5305\u542B\u5B57\u6BCD\u4E0E\u6570\u5B57"}),o(t,{form:r,requiredMarkStyle:"none",footer:e(b,{onClick:N,block:!0,type:"submit",size:"large",color:"primary",loadingIcon:e(I,{}),children:"\u786E\u8BA4"}),children:[e(t.Item,{name:"password",rules:[{required:!0}],children:o("div",{className:i.password,children:[e(g,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",className:i.input,type:u?"text":"password"}),e("div",{className:i.eye,children:u?e(f,{name:"eyes",className:"w-[12px] h-[12px]",onClick:()=>c(!1)}):e(f,{name:"eyes",className:"w-[12px] h-[12px]",onClick:()=>c(!0)})})]})}),e(t.Item,{name:"confirm_password",rules:[{required:!0}],children:e(g,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",type:"password"})})]})]})]})}export{G as default};
