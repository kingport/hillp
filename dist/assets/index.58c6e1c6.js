import{r as p,u as A,k,a as D,j as o,b as s,S as w,cm as b,dg as x,a0 as h,s as M,aH as Y,dh as _,F as H}from"./index.5670e6e0.js";import{H as S}from"./index.04556cd2.js";import{H as j}from"./index.9fe94518.js";import{s as d}from"./index.module.57e26fa5.js";/* empty css                    *//* empty css                 */import"./index.c6660251.js";const V=()=>{const[g,r]=p.exports.useState(!1),[m,y]=p.exports.useState(1),c=A(),v=e=>{const{source:u,extra_params:t}=e;u===11&&(window.location.href=t==null?void 0:t.url_cn),u===30&&(window.location.href=t==null?void 0:t.url)},N=()=>{r(!0)};let f=null;const B=async()=>{const e=await x.getMessageList({page:m,type:3});return y(u=>u+1),f=e.data.data.length,e.data.data},C=async e=>await x.messageoperation(e),{runAsync:l}=k(C,{manual:!0,onSuccess(e){r(!1)}});D(()=>{l({id:"",type:3,operation:1})});const F=(e,u)=>{const{title:t,source:a,extra_params:i,text:E}=e;return o("div",{onClick:()=>v(e),className:`${(e==null?void 0:e.is_read)===1?"opacity-50":"opacity-100"} py-4 px-1.5rem bg-[#fff] mb-4 shadow-sm rounded-xl`,children:[s("div",{className:"flex justify-between",children:o("div",{className:"text-[#2A4948]  mb-4",children:[s("p",{className:"text-sm font-600",children:t}),a===11&&o("div",{className:"flex text-xs",children:["\u6D3B\u52A8\u65F6\u95F4\uFF1A",h((i==null?void 0:i.start_time)*1e3).format("YYYY/MM/DD"),"-",h((i==null?void 0:i.end_time)*1e3).format("YYYY/MM/DD")]}),[14,12].includes(a)&&s("div",{onClick:()=>{var n;a===12&&c("/messenger/official/notice/merchant/sigin",{state:{data:e==null?void 0:e.extra_params}}),a===14&&c("/manage/employee/info",{state:{id:(n=e==null?void 0:e.extra_params)==null?void 0:n.staff_id}})},className:"flex text-xs underline",children:"\u67E5\u770B\u8BE6\u60C5"}),[13].includes(a)&&s("div",{onClick:()=>{var n;c("/manage/channel/info",{state:{id:(n=e==null?void 0:e.extra_params)==null?void 0:n.merchant_id}})},className:"flex text-xs underline",children:"\u67E5\u770B\u8BE6\u60C5"}),[15].includes(a)&&s("div",{onClick:()=>{var n;M.dispatch(Y({stripeInfo:{staff_id:(n=e==null?void 0:e.extra_params)==null?void 0:n.staff_id},type:4})),c("/pay")},className:"flex text-xs underline",children:"\u7ACB\u5373\u652F\u4ED8"}),[22].includes(a)&&s("div",{className:"flex text-xs",children:"\u5DF2\u652F\u4ED8\u5B8C\u6210"}),[17,16].includes(a)&&s("div",{onClick:()=>{c("/messenger/official/change/cost",{state:{data:e==null?void 0:e.extra_params}})},className:"flex text-xs underline",children:"\u67E5\u770B\u8BE6\u60C5"})]})}),s("div",{className:"text-[#999999] text-xs",children:E})]},u)};return o("div",{className:`${d.officialNotice} pt-[48px]`,children:[s(S,{title:"\u5B98\u65B9\u901A\u77E5",border:!0,renderRight:s(w,{onClick:()=>N(),style:{color:"##2A4948",width:"20px",height:"48px"},name:"icon-more"})}),f==0&&s("div",{className:`${d.content} flex justify-center items-center`,children:s(_,{img:"official-notice-empty-page",text:o(H,{children:[s("p",{children:"\u5173\u8054\u5176\u4ED6Hiilp\u8D26\u6237\u540E"}),s("p",{children:"\u76F8\u5173\u901A\u77E5\u4F1A\u51FA\u73B0\u5728\u8FD9\u91CC \u524D\u5F80\u9080\u8BF7"})]})})}),s("div",{className:`${d.contentList}`,children:s(b,{renderItem:F,requestLoadMore:B})}),s(j,{actions:[{text:"\u5C06\u6240\u6709\u901A\u77E5\u6807\u8BB0\u4E3A\u5DF2\u8BFB",key:"empty",onClick(){l({id:"",type:3,operation:1})}},{text:"\u5168\u90E8\u5220\u9664",key:"delete",danger:!0,onClick(){l({id:"",type:3,operation:2})}}],visible:g,setVisible:r})]})};export{V as default};
