import{u as b,k,b as t,j as a,aG as F,a0 as o,S as s,F as Y,r as A}from"./index.5670e6e0.js";import{H as _}from"./index.04556cd2.js";import{S as M}from"./Skeleton.c599669d.js";import{P as j}from"./pay.4a84b5b1.js";import{P}from"./personal.dd90e075.js";import{P as S}from"./index.77a6b2f7.js";/* empty css                    *//* empty css                 */import"./index.c6660251.js";import"./use-gesture-react.esm.346ddc85.js";import"./rubberband.c88fa690.js";import"./bound.bddb6539.js";const L=()=>{var r,i,d,x,m,p,f,h,N,v,D,w;const c=b(),{data:e,loading:n,refresh:u}=k(()=>P.assetList({})),C=l=>a("div",{className:"flex py-2 border-t justify-between text-xs text-color-[#666] sm:py-4 cursor-pointer",children:[t("p",{style:{wordBreak:"break-word"},className:"w-[40%]",children:l==null?void 0:l.order_no}),t("p",{className:"w-[20%] text-center",children:o((l==null?void 0:l.create_time)*1e3).format("YYYY/MM/DD")}),t("p",{className:"w-[20%] text-center",children:l==null?void 0:l.type}),t("p",{className:"w-[20%] text-right",children:l==null?void 0:l.amount})]},l==null?void 0:l.id);return t("div",{className:"flex flex-col sm:w-600px justify-center",children:a(M,{loading:n,children:[a("p",{className:"flex items-center px-5 py-4 justify-between rounded-md bg-[#f4f6f6] text-xs font-500 text-color-[#000]",children:[t("span",{children:"\u8D26\u6237\u72B6\u6001"}),a("span",{onClick:()=>{var l,y,E;if((e.data.status===2||((l=e==null?void 0:e.data)==null?void 0:l.is_renewal)===0)&&c("/personal/auth/online",{state:{type:"wallet"}}),e.data.status===1&&((y=e==null?void 0:e.data)==null?void 0:y.is_renewal)===1){const g=[{key:"cancel",text:"\u53D6\u6D88",className:"dialog-cancel"},{key:"confirm",text:"\u786E\u5B9A",className:"dialog-confirm",async onClick(){var B;(await j.cancel({type:1})).status===200&&(setTimeout(()=>{u()},1e3),await F.show({content:a("div",{className:"flex flex-col justify-center items-center pb-6",children:[t("div",{className:"bg-[#eaeded] rounded-full w-42px h-42px flex justify-center items-center",children:t(s,{name:"cancel",className:"w-25px h-25px"})}),t("p",{className:"font-600 py-4",children:"\u5957\u9910\u5DF2\u53D6\u6D88"}),a("p",{className:"text-color-[#B1B1B1] text-xs",children:["\u60A8\u7684\u5957\u9910\u5C06\u5728",o(((B=e==null?void 0:e.data)==null?void 0:B.promotion_endtime)*1e3).format("YYYY-MM-DD"),"\u5230\u671F"]})]}),actions:[],closeOnMaskClick:!0}))}}];F.show({content:a("div",{className:"font-600 text-center pb-2 text-xs text-color-[#000]",children:[t("p",{className:"text-lg font-600",children:"\u786E\u8BA4\u53D6\u6D88\u5957\u9910"}),a("p",{className:"text-color-[#999]",children:["\u53D6\u6D88\u540E\u5957\u9910\u5C06\u4E8E",o(((E=e==null?void 0:e.data)==null?void 0:E.promotion_endtime)*1e3).format("YYYY-MM-DD"),"\u5230\u671F"]})]}),closeOnMaskClick:!0,closeOnAction:!0,actions:[g]})}},className:"text-color-[#2A4948] underline cursor-pointer",children:[(((r=e==null?void 0:e.data)==null?void 0:r.status)===2||((i=e==null?void 0:e.data)==null?void 0:i.is_renewal)===0)&&"\u5347\u7EA7\u8D26\u6237",((d=e==null?void 0:e.data)==null?void 0:d.status)===1&&((x=e==null?void 0:e.data)==null?void 0:x.is_renewal)===1&&"\u53D6\u6D88\u5957\u9910"]})]}),a("div",{className:"flex items-center pt-6",children:[a("div",{className:"flex pr-8 flex-col text-xs text-color-[#000] border-r",children:[t("p",{children:"\u5957\u9910"}),t("p",{className:"text-color-[#666]",children:((m=e==null?void 0:e.data)==null?void 0:m.setmeal)||"\u65E0"})]}),a("div",{className:"flex px-8 flex-col text-xs text-color-[#000] border-r",children:[t("p",{children:"\u6709\u6548\u671F\u81F3"}),t("p",{className:"text-color-[#666]",children:(p=e==null?void 0:e.data)!=null&&p.promotion_endtime?o(((f=e==null?void 0:e.data)==null?void 0:f.promotion_endtime)*1e3).format("YYYY-MM-DD"):"\u65E0"})]}),a("div",{className:"flex px-8 flex-col text-xs text-color-[#000]",children:[t("p",{children:"\u72B6\u6001"}),a("p",{className:"text-color-[#666]",children:[((h=e==null?void 0:e.data)==null?void 0:h.status)===1&&"\u6709\u6548",((N=e==null?void 0:e.data)==null?void 0:N.status)===2&&"\u65E0\u6548"]})]})]}),a("p",{className:"flex mt-20 items-center px-5 py-4 justify-between rounded-md bg-[#f4f6f6] text-xs font-500 text-color-[#000]",children:[t("span",{children:"\u6D41\u6C34\u660E\u7EC6"}),a("span",{className:"text-color-[#2A4948]",children:["\u4F59\u989D $",(v=e==null?void 0:e.data)==null?void 0:v.balance]})]}),a("div",{className:"flex flex-col mt-6",children:[a("div",{className:"flex pb-4 items-center text-color-[#000] text-xs justify-between",children:[t("p",{className:"w-[40%]",children:"\u8BA2\u5355\u53F7"}),t("p",{className:"w-[20%] text-center",children:"\u65E5\u671F"}),t("p",{className:"w-[20%] text-center",children:"\u8BE6\u60C5"}),t("p",{className:"w-[20%] text-right",children:"\u91D1\u989D"})]}),t("div",{className:"flex flex-col",children:(w=(D=e==null?void 0:e.data)==null?void 0:D.data)==null?void 0:w.map(l=>C(l))})]})]})})},O=()=>{const c=b(),e=["\u73B0\u91D1","\u7535\u5B50\u8F6C\u8D26","\u4FE1\u7528/\u501F\u8BB0\u5361","EFTPOS"],n=[[{label:"\u73B0\u91D1",value:1},{label:"\u7535\u5B50\u8F6C\u8D26",value:2},{label:"\u4FE1\u7528/\u501F\u8BB0\u5361",value:3},{label:"\u4EE3\u91D1\u5238",value:4},{label:"\u5728\u7EBF\u652F\u4ED8",value:5}]];return a(Y,{children:[a("div",{className:"flex flex-col",children:[t("p",{className:"px-5 py-4  rounded-md bg-[#f4f6f6] text-xs font-500 text-color-[#000]",children:"\u6536\u6B3E\u65B9\u5F0F"}),t("div",{className:"text-xs text-color-[#5c5c5c] pt-5",children:"\u6682\u65E0\u6536\u6B3E\u65B9\u5F0F"}),e.map(u=>t("div",{className:"text-xs pt-2 text-color-[#000]",children:u},u)),a("div",{onClick:async()=>{await S.prompt({columns:n})},className:"flex items-center pt-2",children:[t(s,{name:"add",className:"w-[8px] h-[8px]"}),t("p",{className:"text-xs font-500 pl-1",children:"\u6DFB\u52A0"})]})]}),a("div",{className:"flex flex-col mt-9 ",children:[t("p",{className:"px-5 py-4  rounded-md bg-[#f4f6f6] text-xs font-500 text-color-[#000]",children:"\u4ED8\u6B3E\u65B9\u5F0F"}),t("div",{className:"text-xs text-color-[#5c5c5c] pt-5",children:"\u6682\u65E0\u4ED8\u6B3E\u65B9\u5F0F"}),a("div",{className:"flex items-center mt-5",children:[t("p",{className:"text-xs text-color-[#5C5C5C]",children:"Peter Lee"}),t(s,{name:"visa-r",style:{color:"#d3d9df"},className:"ml-10 mr-4 w-[34px] h-[24px]"}),a("div",{className:"flex items-center text-xs",children:["MasterCard ",t(s,{name:"point",className:"w-[16px] h-[6px] mx-2"})," 7282"]})]}),a("div",{onClick:()=>c("/pay/add/mode"),className:"flex items-center pt-2",children:[t(s,{name:"add",className:"w-[8px] h-[8px]"}),t("p",{className:"text-xs font-500 pl-1",children:"\u6DFB\u52A0"})]})]})]})},H="_active_otwuc_1",I={active:H},Z=()=>{const[c,e]=A.exports.useState(2);return a("div",{className:"flex flex-col items-center pt-[48px]",children:[t(_,{title:t(()=>t("div",{className:"flex text-color-[#000] items-center",children:t("p",{onClick:()=>e(2),className:`${c===2&&I.active} text-sm`,children:"\u6D41\u6C34\u660E\u7EC6"})}),{}),renderRight:!1}),a("div",{className:"flex flex-col mt-10 w-[80%]",children:[c===1&&t(O,{}),c===2&&t(L,{})]})]})};export{Z as default};
