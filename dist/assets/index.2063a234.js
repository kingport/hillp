import{u as E,r as t,k as B,j as r,b as s,S,F as x,aI as D,$ as C,Y as A}from"./index.5670e6e0.js";import{E as g}from"./index.605d964d.js";import{H as j}from"./index.04556cd2.js";import{S as k}from"./index.4b9ab638.js";import{M as w}from"./manage.653bb3f0.js";import{I as L}from"./index.0edfa0b7.js";import{S as F}from"./index.0a2bddee.js";/* empty css                    *//* empty css                 */import"./index.77a6b2f7.js";import"./index.c6660251.js";import"./use-gesture-react.esm.346ddc85.js";import"./rubberband.c88fa690.js";import"./bound.bddb6539.js";import"./index.a450b78e.js";import"./statusUtils.6dc02607.js";import"./SearchOutlined.a0283b8c.js";import"./index.42a6e0fb.js";import"./PurePanel.2a417db7.js";import"./DownOutlined.9a14fa90.js";const{Search:M}=L,I=()=>{const l=E(),[f,n]=t.exports.useState(1),[c,d]=t.exports.useState([]),[h,o]=t.exports.useState(!0),[b,m]=t.exports.useState(""),[u,y]=t.exports.useState("0"),N=(e,a)=>{const i=(e==null?void 0:e.type)===1?"\u72EC\u5BB6":e.type===2?"\u5173\u8054":e.type===3?"\u7B7E\u7EA6":"";return r("div",{onClick:()=>{l("/manage/employee/info",{state:{id:e.id}})},className:"flex w-full justify-between py-4 px-5 border border-color-[#e9e9e9] border-solid rounded-md mt-4 cursor-pointer",children:[r("div",{className:"flex items-center",style:{flexBasis:"250px"},children:[s("div",{className:"flex justify-center items-center bg-[#fff] w-34px h-34px border border-solid border-color-[#2A4948] rounded-full",children:s(C,{name:e.nickname,headurl:e==null?void 0:e.head,sx:{width:30,height:30}})}),s(g,{className:"pl-3",direction:"end",content:e==null?void 0:e.nickname}),(e==null?void 0:e.online)===1&&r("div",{className:"flex px-3 py-1 ml-3 justify-center items-center bg-[#fff] rounded-xl border border-color-[#e9e9e9] border-solid",children:[s("p",{className:"text-color-[#8c8c8c] text-xs pr-1",children:(e==null?void 0:e.online)===1?"\u4E0A\u7EBF":"\u4E0B\u7EBF"}),s("span",{className:`${(e==null?void 0:e.online)===1?"bg-[#2A4948]":"bg-[#970D0D]"} p-1 rounded-full`})]})]}),r("div",{className:"flex items-center justify-between flex-1",children:[r("div",{className:"flex flex-col text-xs",children:[s("p",{children:e==null?void 0:e.phone}),s("p",{children:e==null?void 0:e.email})]}),s("div",{className:"flex items-center text-xs",children:s("p",{children:i})})]})]},a)},{runAsync:p}=B(e=>w.getStaffList(e),{manual:!0}),v=async()=>{const e=await p({page:f,keyword:b,type:u});n(a=>a+1),d(a=>{var i;return[...a,...(i=e==null?void 0:e.data)==null?void 0:i.data]}),o((e==null?void 0:e.data.data.length)>0)};return r("div",{className:"flex flex-col w-556px <sm:hidden",children:[r("div",{className:"flex justify-between",children:[s("p",{className:"text-2xl font-600",children:"\u7BA1\u7406\u5458\u5DE5"}),r("div",{onClick:()=>{l("/manage/add/employee")},className:"flex bg-[#fff] shadow-sm rounded-md items-center px-4 py-3 cursor-pointer hover:opacity-90",children:[s(S,{name:"add",className:"w-[11px] h-[11px]"}),s("span",{className:"text-xs pl-1",children:"\u6DFB\u52A0\u65B0\u5458\u5DE5"})]})]}),r("div",{className:"flex items-center px-6 py-4 justify-between mt-5 bg-[#f4f6f6] rounded-md",children:[s("div",{children:s(M,{placeholder:"\u59D3\u540D\u6216\u90AE\u7BB1\u641C\u7D22",onSearch:e=>{m(e),n(1),d([]),o(!0)}})}),s(F,{style:{width:"auto"},onChange:e=>{n(1),d([]),o(!0),y(e)},defaultValue:"0",options:[{value:"0",label:"\u5168\u90E8"},{value:"1",label:"\u72EC\u5BB6"},{value:"2",label:"\u5173\u8054"},{value:"3",label:"\u7B7E\u7EA6"}]})]}),r(x,{children:[s(x,{children:c.map((e,a)=>N(e,a))}),s(D,{loadMore:v,hasMore:h})]})]})};function se(){const l=E(),[f,n]=t.exports.useState([]),[c,d]=t.exports.useState(0),[h,o]=t.exports.useState(1),b=async(e=1)=>await w.getStaffList({page:e,id:c}),[m,u]=t.exports.useState([]),[y,N]=t.exports.useState(!0),p=async()=>{const e=await b(h);o(a=>a+1),u(a=>[...a,...e.data.data]),N(e.data.data.length>0)};B(()=>w.getStaffSelect({}),{onSuccess(e){e.data.map(a=>{a.label=a.nickname,a.value=a.id}),n(e.data)}}),A(()=>{p()},[c]);const v=e=>{const a=(e==null?void 0:e.type)===1?"\u72EC\u5BB6":e.type===2?"\u5173\u8054":e.type===3?"\u7B7E\u7EA6":"";return r("div",{className:"flex items-center justify-between border-color-[#e9e9e9] border-solid border-b-[0.5px]",children:[r("div",{className:"flex w-[43%] py-2 items-center justify-between pr-2 border-color-[#e9e9e9] border-solid border-r-[0.5px]",children:[r("div",{onClick:()=>{l("/manage/employee/info",{state:{id:e.id}})},className:"flex items-center",children:[s(C,{name:e.nickname,headurl:e==null?void 0:e.head,sx:{width:20,height:20},className:"mr-2 ml-4 !text-xs"}),s(g,{className:"text-xs",rows:2,direction:"end",content:e.nickname,style:{width:60}})]}),(e==null?void 0:e.online)===1&&r("div",{className:"flex flex-shrink transform scale-70 border border-solid border-color-[#C9C9C9] px-1 justify-center items-center bg-[#fff] rounded-xl",children:[s("p",{className:"text-color-[#8c8c8c] text-xs pr-1",children:"\u4E0A\u7EBF"}),s("span",{className:"bg-[#2A4948] p-1 rounded-full"})]})]}),r("div",{className:"flex justify-center pl-4 w-[33%] h-12 flex-col text-xs border-color-[#e9e9e9] border-solid border-r-[0.5px]",children:[s("p",{children:e==null?void 0:e.phone}),s(g,{direction:"end",content:e==null?void 0:e.email})]}),s("div",{className:"flex w-[23%] h-12 items-center flex-grow justify-center text-xs",children:s("p",{children:a})})]},e.id)};return r("div",{className:"pt-[48px] <sm:min-h-[100vh] bg-[#fff]",children:[s(j,{title:"\u5458\u5DE5\u5217\u8868",renderLeft:!1,onBack:()=>l("/manage")}),s("div",{className:"shadow-sm py-8 sm:hidden",children:s(k,{onChange:e=>{o(1),u([]),d(e[0])},initValue:["0"],options:[[{label:"\u5168\u90E8\u5458\u5DE5",value:"0"},...f]]})}),r("div",{className:"flex flex-col sm:hidden",children:[r("div",{className:"flex items-center text-sm",children:[s("p",{className:"w-[43%] text-center py-2 border-color-[#e9e9e9] border-solid border-r-[0.5px] border-b-[0.5px]",children:"\u5458\u5DE5"}),s("p",{className:"w-[33%] text-center py-2 border-color-[#e9e9e9] border-solid border-r-[0.5px] border-b-[0.5px]",children:"\u8054\u7CFB\u65B9\u5F0F"}),s("p",{className:"w-[23%] text-center py-2 border-color-[#e9e9e9] border-solid border-b-[0.5px]",children:"\u72B6\u6001"})]}),r(x,{children:[s(x,{children:m.map((e,a)=>v(e))}),s(D,{loadMore:p,hasMore:y})]})]}),r("div",{onClick:()=>{l("/manage/add/employee")},className:"flex bg-[#fff] fixed z-10 left-8 bottom-30 flex-auto shadow-sm rounded-md items-center px-4 py-3 sm:hidden",children:[s(S,{name:"add",className:"w-[11px] h-[11px]"}),s("span",{className:"text-xs pl-1",children:"\u6DFB\u52A0\u65B0\u5458\u5DE5"})]}),s(I,{})]})}export{se as default};
