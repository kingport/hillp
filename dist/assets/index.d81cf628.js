import{R as D,C as o}from"./row.06620ecf.js";import{I as E}from"./index.0edfa0b7.js";import{u as k,s as F,k as A,j as l,b as a,F as N,_ as v,$ as b,O as j,U as B,a0 as t,a1 as I}from"./index.5670e6e0.js";import"./useFlexGapSupport.172cfcf4.js";import"./index.a450b78e.js";import"./statusUtils.6dc02607.js";import"./SearchOutlined.a0283b8c.js";import"./index.42a6e0fb.js";/* empty css                    *//* empty css                 */const q="_cardContentItem_6praq_1",L="_cardContentTags_6praq_4",R="_appointmentItem_6praq_8",g={cardContentItem:q,cardContentTags:L,appointmentItem:R},J=()=>{var u,x,p,h,i,f;const n=k(),s=F.getState().global.userInfo,{run:C,loading:d,data:r}=A(e=>B.search(e),{debounceWait:500}),m=(e,c)=>l("div",{className:`${g.cardContentItem} flex items-center justify-between py-4`,children:[l("div",{className:"font-600 w-12",children:[a("p",{children:t(e.start_time*1e3).format("MM\u6708")}),a("p",{children:t(e.start_time*1e3).format("DD\u65E5")})]}),a("div",{className:"flex flex-1 justify-between items-center",children:l("div",{className:"flex flex-col mr-4",children:[l("div",{className:"text-[12px] mb-1",children:[l("span",{className:`${g.cardContentTags} text-color-[#848484]`,children:[e.server_type===1?"\u5802\u98DF":"\u5916\u5356"," $",e.amount]}),e.status===0&&a("span",{className:"text-color-[#D2693F] ml-4",children:"\u65B0\u9884\u7EA6"}),e.status===2&&a("span",{className:"text-color-[#D2693F] ml-4",children:"\u5DF2\u53D6\u6D88"}),e.status===7&&a("span",{className:"text-color-[#D2693F] ml-4",children:"\u5DF2\u53D6\u6D88"})]}),l("span",{className:"text-xs mb-1",children:[I(e.start_time*1e3),t(e.start_time*1e3).format("HH:mm")]}),l("span",{className:"text-[12px] leading-16px text-color-[#848484]",children:[e.client_name," \u4E0E ",e.staff_name||(e==null?void 0:e.nickname),e.duration,"\u5206\u949F\u7684\u9884\u7EA6"]})]})})]},c),_=e=>{n("/manage/employee/info",{state:{id:e.id}})},w=e=>{n("/manage/channel/info",{state:{id:e.id}})},y=e=>{n("/manage/customer/info",{state:{id:e.id}})};return l("div",{className:"flex flex-col px-20 py-40 w-[calc(100vw-60px)] relative",children:[l("div",{className:"flex flex-col w-full",children:[a(E,{onChange:e=>{C({keyword:e.target.value})},placeholder:"\u5728\u6B64\u641C\u7D22",className:"text-3xl",bordered:!1}),a("div",{className:"border border-solid border-color-[#acaba6]"}),l("span",{className:"text-color-[#acaba6] pt-6",children:["\u901A\u8FC7\u8F93\u5165\u5373\u5C06\u5230\u6765\u7684\u9884\u7EA6, ",(s==null?void 0:s.user_type)===2?"\u5458\u5DE5":"\u6E20\u9053","\u6216\u8005\u5BA2\u6237\u8FDB\u884C\u67E5\u8BE2"]})]}),a("div",{className:"flex w-full pt-30",children:l(D,{className:"w-full",children:[l(o,{span:8,children:[a("p",{className:"text-2xl",children:"\u5373\u5C06\u5230\u6765\u7684\u9884\u7EA6"}),a("div",{className:"flex flex-col h-400px overflow-auto",children:(x=(u=r==null?void 0:r.data)==null?void 0:u.subscribe)==null?void 0:x.map((e,c)=>m(e,c))})]}),l(o,{span:8,children:[a("p",{className:"text-2xl",children:(s==null?void 0:s.user_type)===2?"\u5458\u5DE5":"\u6E20\u9053"}),d&&l(N,{children:[a("span",{children:"Loading"}),a(v,{})]}),a("div",{className:"flex flex-col h-600px overflow-auto",children:(h=(p=r==null?void 0:r.data)==null?void 0:p.user)==null?void 0:h.map(e=>l("div",{className:"flex items-center py-4",onClick:()=>{(s==null?void 0:s.user_type)===2?_(e):w(e)},children:[a("div",{className:"border mr-4 border-solid flex justify-center items-center border-color-[#cee2ee] border-width-1px w-55px h-55px rounded-full",children:a(b,{name:e==null?void 0:e.nickname,headurl:e==null?void 0:e.head,sx:{width:50,height:50}})}),l("div",{className:"flex text-xl flex-col",children:[a("p",{className:"font-600 text-xl text-color-[#000]",children:e==null?void 0:e.nickname}),l("p",{className:"py-1 text-xs text-color-[#797979]",children:[(e==null?void 0:e.area)||"--"," ",e==null?void 0:e.phone]}),a("p",{className:"text-xs text-color-[#797979]",children:(e==null?void 0:e.email)||"--"})]})]},e==null?void 0:e.id))})]}),l(o,{span:8,children:[a("p",{className:"text-2xl",children:"\u5BA2\u6237"}),d&&l(N,{children:[a("span",{children:"Loading"}),a(v,{})]}),a("div",{className:"flex flex-col h-600px overflow-auto",children:(f=(i=r==null?void 0:r.data)==null?void 0:i.client)==null?void 0:f.map(e=>l("div",{className:"flex items-center py-4",onClick:()=>y(e),children:[a("div",{className:"border mr-4 border-solid flex justify-center items-center border-color-[#D2693F] border-width-1px w-55px h-55px rounded-full",children:a(b,{name:e==null?void 0:e.nickname,style:{background:"#f2e2da"},headurl:e==null?void 0:e.head,sx:{width:50,height:50}})}),l("div",{className:"flex text-xl flex-col",children:[a("p",{className:"font-600 text-xl text-color-[#000]",children:e==null?void 0:e.nickname}),l("p",{className:"py-1 text-xs text-color-[#797979]",children:[(e==null?void 0:e.area)||"--"," ",e==null?void 0:e.phone]}),a("p",{className:"text-xs text-color-[#797979]",children:(e==null?void 0:e.email)||"--"})]})]},e==null?void 0:e.id))})]})]})}),a("div",{onClick:()=>n(-1),className:"fixed top-80px right-40px",children:a(j,{fontSize:24,className:"cursor-pointer"})})]})};export{J as default};
