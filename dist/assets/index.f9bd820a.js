import{d as M}from"./dayjs.min.37299693.js";import{r as d,l as I,n as K,b as l,j as x,m as A,o as S,p as _,g as P,F as j,w as T,R as V,q as Z,t as z}from"./index.5670e6e0.js";/* empty css                    */import{b as H}from"./bound.bddb6539.js";import{P as W}from"./index.c6660251.js";const D=r=>{if(!r)return 0;const t=M(r).valueOf()-Date.now();return t<0?0:t},X=r=>({days:Math.floor(r/864e5),hours:Math.floor(r/36e5)%24,minutes:Math.floor(r/6e4)%60,seconds:Math.floor(r/1e3)%60,milliseconds:Math.floor(r)%1e3}),q=(r={})=>{const{leftTime:t,targetDate:n,interval:c=1e3,onEnd:y}=r||{},i=d.exports.useMemo(()=>"leftTime"in r?I(t)&&t>0?Date.now()+t:void 0:n,[t,n]),[m,u]=d.exports.useState(()=>D(i)),w=K(y);d.exports.useEffect(()=>{if(!i){u(0);return}u(D(i));const g=setInterval(()=>{var b;const L=D(i);u(L),L===0&&(clearInterval(g),(b=w.current)===null||b===void 0||b.call(w))},c);return()=>clearInterval(g)},[i,c]);const v=d.exports.useMemo(()=>X(m),[m]);return[m,v]},se=q;function G(r){return l("svg",{...Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r,{style:Object.assign({verticalAlign:"-0.125em"},r.style),className:["antd-mobile-icon",r.className].filter(Boolean).join(" ")}),children:l("g",{id:"DownOutline-DownOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:x("g",{children:[l("rect",{id:"DownOutline-\u77E9\u5F62",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),l("path",{d:"M5.11219264,16.3947957 L22.6612572,34.5767382 L22.6612572,34.5767382 C23.2125856,35.1304785 24.0863155,35.1630514 24.6755735,34.6744571 L24.7825775,34.5767382 L42.8834676,16.3956061 C42.9580998,16.320643 43,16.2191697 43,16.1133896 L43,12.9866673 C43,12.7657534 42.8209139,12.5866673 42.6,12.5866673 C42.4936115,12.5866673 42.391606,12.6290496 42.316542,12.7044413 L23.7816937,31.3201933 L23.7816937,31.3201933 L5.6866816,12.7237117 C5.53262122,12.5653818 5.27937888,12.5619207 5.121049,12.7159811 C5.04365775,12.7912854 5,12.8946805 5,13.0026627 L5,16.1170064 C5,16.2206403 5.04022164,16.3202292 5.11219264,16.3947957 Z",id:"DownOutline-down",fill:"currentColor",fillRule:"nonzero"})]})})})}function E(r){return l("svg",{...Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r,{style:Object.assign({verticalAlign:"-0.125em"},r.style),className:["antd-mobile-icon",r.className].filter(Boolean).join(" ")}),children:l("g",{id:"TextDeletionOutline-TextDeletionOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:x("g",{id:"TextDeletionOutline-\u7F16\u7EC4",children:[l("rect",{id:"TextDeletionOutline-\u77E9\u5F62",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),l("path",{d:"M38.5492302,6 C41.5596051,6 44,8.46240906 44,11.499981 L44,35.5 C44,38.5375742 41.5596051,41.000013 38.54923,41.000013 L17.3058462,41.000013 C14.6665152,41.000013 12.2347138,39.555982 10.9529738,37.2279238 L4.91451284,27.0612608 C3.6951623,24.8464932 3.6951623,22.1535354 4.91451335,19.9387516 L10.9529743,9.77208856 C12.234697,7.44403098 14.6665154,6 17.3058464,6 L38.5492302,6 Z M38.5492273,8.74994707 L17.3058465,8.74994707 C15.7329163,8.74994707 14.2719651,9.57120176 13.4439762,10.9206455 L13.3349608,11.1076457 L7.29739408,21.2743087 C6.57566975,22.5850072 6.53495505,24.1690434 7.18837846,25.5157286 L7.29739386,25.7265623 L13.3349605,35.8932253 C14.0992225,37.2803788 15.5202936,38.1698544 17.0914483,38.2444783 L17.3058454,38.2499783 L38.5492292,38.2499783 C39.9923716,38.2499783 41.1854088,37.114979 41.2700704,35.6613101 L41.2746127,35.4999769 L41.2746127,11.4999513 C41.2746127,10.0436198 40.1496291,8.83987037 38.7089651,8.75452144 L38.5492273,8.74994707 Z M22.3492842,17 C22.4547968,17 22.556036,17.0416892 22.6309531,17.1159883 L26.757,21.208 L30.8830469,17.1159883 C30.957964,17.0416892 31.0592032,17 31.1647158,17 L34.2719196,17 C34.4928335,17 34.6719196,17.1790861 34.6719196,17.4 C34.6719196,17.5067321 34.6292639,17.6090378 34.5534423,17.6841566 L28.879,23.306 L34.8245071,29.1968543 C34.9814364,29.3523411 34.9826059,29.6056044 34.8271191,29.7625337 C34.7520011,29.8383486 34.6497001,29.881 34.5429734,29.881 L31.4366959,29.881 C31.331195,29.881 31.2299662,29.8393201 31.1550512,29.7650357 L26.758,25.405 L22.3599432,29.7650669 C22.2850309,29.8393322 22.1838155,29.881 22.07833,29.881 L18.9720266,29.881 C18.7511127,29.881 18.5720266,29.7019139 18.5720266,29.481 C18.5720266,29.3742733 18.614678,29.2719723 18.6904929,29.1968543 L24.636,23.306 L18.9624269,17.6841345 C18.8055037,17.5286415 18.8043444,17.2753782 18.9598374,17.118455 C19.0349545,17.042647 19.1372506,17 19.2439719,17 L22.3492842,17 Z",id:"TextDeletionOutline-\u5F62\u72B6\u7ED3\u5408",fill:"currentColor",fillRule:"nonzero"})]})})})}const C="adm-passcode-input",R={defaultValue:"",length:6,plain:!1,error:!1,seperated:!1,caret:!0},J=d.exports.forwardRef((r,t)=>{const n=A(R,r),c=n.length>0&&n.length<1/0?Math.floor(n.length):R.length,{locale:y}=S(),[i,m]=d.exports.useState(!1),[u,w]=_(n),v=d.exports.useRef(null),g=d.exports.useRef(null);d.exports.useEffect(()=>{var e;u.length>=c&&((e=n.onFill)===null||e===void 0||e.call(n,u))},[u,c]);const b=()=>{var e,a;n.keyboard||(e=g.current)===null||e===void 0||e.focus(),m(!0),(a=n.onFocus)===null||a===void 0||a.call(n)};d.exports.useEffect(()=>{if(!i)return;const e=window.setTimeout(()=>{var a;(a=v.current)===null||a===void 0||a.scrollIntoView({block:"center",inline:"center",behavior:"smooth"})},100);return()=>{window.clearTimeout(e)}},[i]);const L=()=>{var e;m(!1),(e=n.onBlur)===null||e===void 0||e.call(n)};d.exports.useImperativeHandle(t,()=>({focus:()=>{var e;return(e=v.current)===null||e===void 0?void 0:e.focus()},blur:()=>{var e,a;(e=v.current)===null||e===void 0||e.blur(),(a=g.current)===null||a===void 0||a.blur()}}));const k=()=>{const e=[],a=u.split(""),N=a.length,F=H(a.length,0,c-1);for(let p=0;p<c;p++)e.push(l("div",{className:P(`${C}-cell`,{[`${C}-cell-caret`]:n.caret&&N===p&&i,[`${C}-cell-focused`]:F===p&&i,[`${C}-cell-dot`]:!n.plain&&a[p]}),children:a[p]&&n.plain?a[p]:""},p));return e},$=P(C,{[`${C}-focused`]:i,[`${C}-error`]:n.error,[`${C}-seperated`]:n.seperated});return x(j,{children:[T(n,x("div",{ref:v,tabIndex:0,className:$,onFocus:b,onBlur:L,role:"button","aria-label":y.PasscodeInput.name,children:[l("div",{className:`${C}-cell-container`,children:k()}),l("input",{ref:g,className:`${C}-native-input`,value:u,type:"text",pattern:"[0-9]*",inputMode:"numeric",onChange:e=>{w(e.target.value.slice(0,n.length))},"aria-hidden":!0})]})),n.keyboard&&V.cloneElement(n.keyboard,{visible:i,onInput:e=>{u.length<c&&w((u+e).slice(0,n.length))},onDelete:()=>{w(u.slice(0,-1))},onClose:()=>{var e;(e=v.current)===null||e===void 0||e.blur()}})]})}),ae=J;function Q(r){const t=[...r];for(let n=t.length;n>0;n--){const c=Math.floor(Math.random()*n);[t[n-1],t[c]]=[t[c],t[n-1]]}return t}const s="adm-number-keyboard",U={defaultVisible:!1,randomOrder:!1,showCloseButton:!0,confirmText:null,closeOnConfirm:!0,safeArea:!0,destroyOnClose:!1,forceRender:!1},Y=r=>{const t=A(U,r),{visible:n,title:c,getContainer:y,confirmText:i,customKey:m,randomOrder:u,showCloseButton:w,onInput:v}=t,g=d.exports.useRef(null),b=d.exports.useMemo(()=>{const o=["1","2","3","4","5","6","7","8","9"],f=u?Q(o):o,h=Array.isArray(m)?m:[m];return f.push("0"),i?(h.length===2&&f.splice(9,0,h.pop()),f.push(h[0]||"")):(f.splice(9,0,h[0]||""),f.push(h[1]||"BACKSPACE")),f},[m,i,u,u&&n]),L=d.exports.useRef(-1),k=d.exports.useRef(-1),$=Z(()=>{var o;(o=t.onDelete)===null||o===void 0||o.call(t)}),e=()=>{L.current=window.setTimeout(()=>{$(),k.current=window.setInterval($,150)},700)},a=()=>{clearTimeout(L.current),clearInterval(k.current)},N=(o,f)=>{var h,O;switch(o.preventDefault(),f){case"BACKSPACE":$==null||$();break;case"OK":(h=t.onConfirm)===null||h===void 0||h.call(t),t.closeOnConfirm&&((O=t.onClose)===null||O===void 0||O.call(t));break;default:f!==""&&(v==null||v(f));break}},F=()=>!w&&!c?null:x("div",{className:P(`${s}-header`,{[`${s}-header-with-title`]:!!c}),children:[c&&l("div",{className:`${s}-title`,children:c}),w&&l("span",{className:`${s}-header-close-button`,onClick:()=>{var o;(o=t.onClose)===null||o===void 0||o.call(t)},role:"button",title:"CLOSE",children:l(G,{})})]}),p=(o,f)=>{const h=/^\d$/.test(o),O=P(`${s}-key`,{[`${s}-key-number`]:h,[`${s}-key-sign`]:!h&&o,[`${s}-key-mid`]:f===9&&!!i&&b.length<12});return l("div",{...Object.assign({key:o,className:O,onTouchStart:()=>{o==="BACKSPACE"&&e()},onTouchEnd:B=>{N(B,o),o==="BACKSPACE"&&a()}},o?{role:"button",title:o}:void 0),children:o==="BACKSPACE"?l(E,{}):o})};return l(W,{visible:n,getContainer:y,mask:!1,afterClose:t.afterClose,afterShow:t.afterShow,className:`${s}-popup`,stopPropagation:t.stopPropagation,destroyOnClose:t.destroyOnClose,forceRender:t.forceRender,children:T(t,x("div",{ref:g,className:s,onMouseDown:o=>{o.preventDefault()},children:[F(),x("div",{className:`${s}-wrapper`,children:[l("div",{className:P(`${s}-main`,{[`${s}-main-confirmed-style`]:!!i}),children:b.map(p)}),!!i&&x("div",{className:`${s}-confirm`,children:[l("div",{className:`${s}-key ${s}-key-extra ${s}-key-bs`,onTouchStart:()=>{e()},onTouchEnd:o=>{N(o,"BACKSPACE"),a()},title:"BACKSPACE",role:"button",children:l(E,{})}),l("div",{className:`${s}-key ${s}-key-extra ${s}-key-ok`,onTouchEnd:o=>N(o,"OK"),role:"button",children:i})]})]}),t.safeArea&&l("div",{className:`${s}-footer`,children:l(z,{position:"bottom"})})]}))})},ie=Y;export{ie as N,ae as P,se as u};
