import{w as q,j as a,g as Q,b as e,u as G,r as h,k as x,aF as E,S as U,F as u,cm as y,a0 as p,a1 as W,W as T}from"./index.5670e6e0.js";/* empty css                    */import{P as Z}from"./index.77a6b2f7.js";import{H as O}from"./index.04556cd2.js";import{C as H}from"./ChartLineComponent.f441d827.js";import{D as V}from"./data.6b019071.js";import{D as z}from"./dropdown.706ec38f.js";import{S as K}from"./Skeleton.c599669d.js";import{E as R}from"./empty.2fdb44db.js";/* empty css                 */import"./index.c6660251.js";import"./use-gesture-react.esm.346ddc85.js";import"./rubberband.c88fa690.js";import"./bound.bddb6539.js";import"./PurePanel.2a417db7.js";import"./index.42a6e0fb.js";import"./index.92e459fd.js";import"./collapse.e34cf270.js";import"./useFlexGapSupport.172cfcf4.js";const w="adm-card",X=s=>{const A=()=>s.title||s.extra?a("div",{className:Q(`${w}-header`,s.headerClassName),style:s.headerStyle,onClick:s.onHeaderClick,children:[e("div",{className:`${w}-header-title`,children:s.title}),s.extra]}):null,f=()=>s.children?e("div",{className:Q(`${w}-body`,s.bodyClassName),style:s.bodyStyle,onClick:s.onBodyClick,children:s.children}):null;return q(s,a("div",{className:w,onClick:s.onClick,children:[A(),f()]}))},g=X,_="_calendarKanban_src3p_1",$="_cardList_src3p_4",ee="_cardContentItem_src3p_7",ae="_cardContentTags_src3p_10",o={calendarKanban:_,cardList:$,cardContentItem:ee,cardContentTags:ae},ne="data:image/png;base64,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";function te(){var c,m,Y,J,P;const s=G(),[A,f]=h.exports.useState(1),[v,i]=h.exports.useState(1),[d,k]=h.exports.useState(1),{runAsync:S,loading:l}=x(E.orderSubscribe,{manual:!0}),{runAsync:I,loading:L}=x(E.orderSubscribe,{manual:!0}),{data:r,loading:j}=x(V.getTurnover,{defaultParams:[{begin_time:-1}]}),C=async n=>{let B;return n==="incoming"&&(B=await S({type:1,page:A})),n==="ongoing"&&(B=await I({type:2,page:v})),n==="incoming"?f(M=>M+1):i(M=>M+1),B.data.data},F=n=>{console.log(n),s("/calendar/view",{state:{id:n==null?void 0:n.id}})},N=(n,B)=>a("div",{className:`${o.cardContentItem} cursor-pointer flex items-center justify-between`,onClick:()=>F(n),children:[a("div",{className:"font-600 w-12",children:[e("p",{children:p(n.start_time*1e3).format("MM\u6708")}),e("p",{children:p(n.start_time*1e3).format("DD\u65E5")})]}),a("div",{className:"flex flex-1 justify-between items-center",children:[a("div",{className:"flex flex-col mr-4",children:[a("div",{className:"text-[12px] mb-1",children:[e("span",{className:`${o.cardContentTags} text-color-[#848484]`,children:n.server_type===1?"\u5802\u98DF":"\u5916\u5356"}),n.status===0&&e("span",{className:"text-color-[#D2693F] ml-4",children:"\u65B0\u9884\u7EA6"}),n.status===2&&e("span",{className:"text-color-[#D2693F] ml-4",children:"\u5DF2\u53D6\u6D88"}),n.status===7&&e("span",{className:"text-color-[#D2693F] ml-4",children:"\u5DF2\u53D6\u6D88"})]}),a("span",{className:"text-xs mb-1",children:[W(n.start_time*1e3),p(n.start_time*1e3).format("HH:mm")]}),a("span",{className:"text-[12px] leading-16px text-color-[#848484]",children:[n.client_name," \u4E0E ",n.staff_name||(n==null?void 0:n.nickname),n.duration,"\u5206\u949F\u7684\u9884\u7EA6"]})]}),a("span",{className:"font-600 text-right w-60px",children:["$",n.amount]})]})]},B),D=()=>a("div",{className:"flex flex-col justify-center items-center",children:[e(T,{src:R,className:"w-60px h-60px"}),e("span",{className:"text-color-[#B1BCBD] text-xs",children:"\u6682\u65E0\u4EFB\u4F55\u6570\u636E"})]}),b=()=>a("div",{className:"flex flex-col justify-center items-center",children:[e(T,{src:ne,className:"w-60px h-60px"}),e("span",{className:"text-color-[#B1BCBD] text-xs",children:"\u6682\u65E0\u4EFB\u4F55\u6570\u636E"})]}),t=[{key:"1",label:"\u5168\u90E8"},{key:"2",label:"\u6BCF\u65E5\u9884\u7EA6\u603B\u91CF"},{key:"3",label:"\u6BCF\u65E5\u6536\u5165\u91D1\u989D"}];return j?e(K,{}):e("div",{className:"pt-[4rem] bg-[#fff] w-[calc(100vw-60px)]",children:a("div",{className:`${o.cardList} pb-4 px-6`,children:[a(g,{title:a("div",{className:"w-full",children:[a("div",{className:"flex justify-between items-center w-full",children:[e("span",{children:"\u5386\u53F2\u8BA2\u5355\u6C47\u603B"}),e(z,{menu:{items:t,onClick:n=>{n.key&&k(Number(n.key))}},children:e(U,{name:"point",className:"w-16px h-16px cursor-pointer"})})]}),e("span",{className:"block text-base font-400 text-color-[#2A494880]",children:"\u8FD17\u65E5\u5185"})]}),children:[a("div",{className:"text-xs mb-1 text-color-[#2A494880]",children:[e("span",{children:"\u603B\u9884\u7EA6\u6570\uFF1A"}),e("span",{className:"text-color-[#2A4948] mr-4",children:(m=(c=r==null?void 0:r.data)==null?void 0:c.turnover)==null?void 0:m.order_num}),e("span",{children:"\u603B\u6536\u5165\u91D1\u989D\uFF1A"}),a("span",{className:"text-color-[#2A4948]",children:["$",(J=(Y=r==null?void 0:r.data)==null?void 0:Y.turnover)==null?void 0:J.amount_total]})]}),e(H,{keyrender:"pc",width:"100%",className:"!sm:h-400px",height:200,data:(P=r==null?void 0:r.data)==null?void 0:P.turnover,selecttype:d}),a("div",{className:"flex items-center text-xs text-color-[#5C6370]",children:[d===1&&a(u,{children:[e("div",{className:"w-[5px] h-[5px] rounded-full bg-[#D2693F] mr-1"}),e("span",{className:"mr-4",children:"\u6BCF\u65E5\u9884\u7EA6\u603B\u91CF"}),e("div",{className:"w-[5px] h-[5px] rounded-full bg-[#2A4948] mr-1"}),e("span",{children:"\u6BCF\u65E5\u6536\u5165\u91D1\u989D"})]}),d===2&&a(u,{children:[e("div",{className:"w-[5px] h-[5px] rounded-full bg-[#D2693F] mr-1"}),e("span",{className:"mr-4",children:"\u6BCF\u65E5\u9884\u7EA6\u603B\u91CF"})]}),d===3&&a(u,{children:[e("div",{className:"w-[5px] h-[5px] rounded-full bg-[#2A4948] mr-1"}),e("span",{children:"\u6BCF\u65E5\u6536\u5165\u91D1\u989D"})]})]})]}),a("div",{className:"sm:flex sm:justify-between pt-5",children:[a(g,{title:"\u5373\u5C06\u8FDB\u884C",className:"sm:w-[48%] sm:mb-0 mb-5",children:[e("span",{className:"block text-base font-400 text-color-[#2A494880]",children:"\u8FD17\u65E5\u5185"}),e(y,{requestLoadMore:()=>C("incoming"),renderItem:N,renderEmpty:D})]}),a(g,{title:"\u6B63\u5728\u8FDB\u884C",className:"sm:w-[48%]",children:[e("span",{className:"block text-base font-400 text-color-[#2A494880]",children:"\u8FD17\u65E5\u5185"}),e(y,{requestLoadMore:()=>C("ongoing"),renderItem:N,renderEmpty:b})]})]})]})})}function De(){var C,F,N,D,b;const[s,A]=h.exports.useState(1),[f,v]=h.exports.useState(1),[i,d]=h.exports.useState(1),{runAsync:k}=x(E.orderSubscribe,{manual:!0}),{runAsync:S}=x(E.orderSubscribe,{manual:!0}),{data:l,loading:I}=x(V.getTurnover,{defaultParams:[{begin_time:-1}]}),L=async t=>{let c;return t==="incoming"&&(c=await k({type:1,page:s})),t==="ongoing"&&(c=await S({type:2,page:f})),t==="incoming"?A(m=>m+1):v(m=>m+1),c.data.data},r=(t,c)=>a("div",{className:`${o.cardContentItem} flex items-center justify-between`,children:[a("div",{className:"font-600 w-12",children:[e("p",{children:p(t.start_time*1e3).format("MM\u6708")}),e("p",{children:p(t.start_time*1e3).format("DD\u65E5")})]}),a("div",{className:"flex flex-1 justify-between items-center",children:[a("div",{className:"flex flex-col mr-4",children:[a("div",{className:"text-[12px] mb-1",children:[e("span",{className:`${o.cardContentTags} text-color-[#848484]`,children:t.server_type===1?"\u5802\u98DF":"\u5916\u5356"}),t.status===0&&e("span",{className:"text-color-[#D2693F] ml-4",children:"\u65B0\u9884\u7EA6"}),t.status===2&&e("span",{className:"text-color-[#D2693F] ml-4",children:"\u5DF2\u53D6\u6D88"}),t.status===7&&e("span",{className:"text-color-[#D2693F] ml-4",children:"\u5DF2\u53D6\u6D88"})]}),a("span",{className:"text-xs mb-1",children:[W(t.start_time*1e3),p(t.start_time*1e3).format("HH:mm")]}),a("span",{className:"text-[12px] leading-16px text-color-[#848484]",children:[t.client_name," \u4E0E ",t.staff_name||(t==null?void 0:t.nickname),t.duration,"\u5206\u949F\u7684\u9884\u7EA6"]})]}),a("span",{className:"font-600 text-right w-60px",children:["$",t.amount]})]})]},c),j=[[{id:1,label:"\u5168\u90E8",value:1},{id:2,label:"\u6BCF\u65E5\u9884\u7EA6\u603B\u91CF",value:2},{id:3,label:"\u6BCF\u65E5\u6536\u5165\u91D1\u989D",value:3}]];return I?e(u,{}):a(u,{children:[a("div",{className:`${o.calendarKanban} pt-[4rem] bg-[#fff] sm:hidden`,children:[e(O,{title:"\u8BA2\u5355\u770B\u677F",renderLeft:!1}),a("div",{className:`${o.cardList} pb-4 px-6`,children:[a("div",{className:"sm:flex sm:justify-between",children:[e(g,{title:"\u5373\u5C06\u8FDB\u884C",className:"sm:w-[48%] sm:mb-0 mb-5",children:e(y,{requestLoadMore:()=>L("incoming"),renderItem:r})}),e(g,{title:"\u6B63\u5728\u8FDB\u884C",className:"sm:w-[48%]",children:e(y,{requestLoadMore:()=>L("ongoing"),renderItem:r})})]}),a(g,{title:a("div",{className:"w-full",children:[a("div",{className:"flex justify-between items-center w-full",children:[e("span",{children:"\u5386\u53F2\u8BA2\u5355\u6C47\u603B"}),e(U,{onClick:async()=>{const t=await Z.prompt({columns:j,defaultValue:[i]});t&&d(t[0])},name:"point",className:"w-16px h-16px cursor-pointer"})]}),e("span",{className:"block text-base font-400 text-color-[#2A494880]",children:"\u8FD17\u65E5\u5185"})]}),children:[a("div",{className:"text-xs mb-1 text-color-[#2A494880]",children:[e("span",{children:"\u603B\u9884\u7EA6\u6570\uFF1A"}),e("span",{className:"text-color-[#2A4948] mr-4",children:(F=(C=l==null?void 0:l.data)==null?void 0:C.turnover)==null?void 0:F.order_num}),e("span",{children:"\u603B\u6536\u5165\u91D1\u989D\uFF1A"}),a("span",{className:"text-color-[#2A4948]",children:["$",(D=(N=l==null?void 0:l.data)==null?void 0:N.turnover)==null?void 0:D.amount_total]})]}),e(H,{width:"100%",className:"!sm:h-400px",height:200,data:(b=l==null?void 0:l.data)==null?void 0:b.turnover,selecttype:i},"h5"),a("div",{className:"flex items-center text-xs text-color-[#5C6370]",children:[i===1&&a(u,{children:[e("div",{className:"w-[5px] h-[5px] rounded-full bg-[#D2693F] mr-1"}),e("span",{className:"mr-4",children:"\u6BCF\u65E5\u9884\u7EA6\u603B\u91CF"}),e("div",{className:"w-[5px] h-[5px] rounded-full bg-[#2A4948] mr-1"}),e("span",{children:"\u6BCF\u65E5\u6536\u5165\u91D1\u989D"})]}),i===2&&a(u,{children:[e("div",{className:"w-[5px] h-[5px] rounded-full bg-[#D2693F] mr-1"}),e("span",{className:"mr-4",children:"\u6BCF\u65E5\u9884\u7EA6\u603B\u91CF"})]}),i===3&&a(u,{children:[e("div",{className:"w-[5px] h-[5px] rounded-full bg-[#2A4948] mr-1"}),e("span",{children:"\u6BCF\u65E5\u6536\u5165\u91D1\u989D"})]})]})]})]})]}),e("div",{className:"<sm:hidden",children:e(te,{})})]})}export{De as default};
