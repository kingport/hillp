/* empty css                    */import{w as g,b as t,B as b,g as s,m as u,j as k,F as p,W as x,b_ as C,aP as m,b$ as N,bn as O,c0 as y,h as w}from"./index.5670e6e0.js";import{S as P}from"./index.af3e2847.js";const S=o=>{const{action:e}=o;return g(o.action,t(b,{onClick:o.onAction,className:s("adm-modal-button",{"adm-modal-button-primary":o.action.primary}),fill:o.action.primary?"solid":"none",size:o.action.primary?"large":"middle",block:!0,color:e.danger?"danger":"primary",loading:"auto",disabled:e.disabled,children:e.text},e.key))},_={actions:[],closeOnAction:!1,closeOnMaskClick:!1,getContainer:null},h=o=>{const e=u(_,o),n=k(p,{children:[!!e.image&&t("div",{className:i("image-container"),children:t(x,{src:e.image,alt:"modal header image",width:"100%"})}),!!e.header&&t("div",{className:i("header"),children:t(C,{children:e.header})}),!!e.title&&t("div",{className:i("title"),children:e.title}),t("div",{className:i("content"),children:typeof e.content=="string"?t(C,{children:e.content}):e.content}),t(P,{direction:"vertical",block:!0,className:s(i("footer"),e.actions.length===0&&i("footer-empty")),children:e.actions.map((l,a)=>t(S,{action:l,onAction:()=>m(void 0,void 0,void 0,function*(){var c,r,d;yield Promise.all([(c=l.onClick)===null||c===void 0?void 0:c.call(l),(r=e.onAction)===null||r===void 0?void 0:r.call(e,l,a)]),e.closeOnAction&&((d=e.onClose)===null||d===void 0||d.call(e))})},l.key))})]});return t(N,{className:s(i(),e.className),style:e.style,afterClose:e.afterClose,afterShow:e.afterShow,showCloseButton:e.showCloseButton,closeOnMaskClick:e.closeOnMaskClick,onClose:e.onClose,visible:e.visible,getContainer:e.getContainer,bodyStyle:e.bodyStyle,bodyClassName:s(i("body"),e.image&&i("with-image"),e.bodyClassName),maskStyle:e.maskStyle,maskClassName:e.maskClassName,stopPropagation:e.stopPropagation,disableBodyScroll:e.disableBodyScroll,destroyOnClose:e.destroyOnClose,forceRender:e.forceRender,children:n})};function i(o=""){return"adm-modal"+(o&&"-")+o}const f=new Set;function v(o){const e=O(t(h,{...Object.assign({},o,{afterClose:()=>{var n;f.delete(e.close),(n=o.afterClose)===null||n===void 0||n.call(o)}})}));return f.add(e.close),e}function A(o){const e={confirmText:y().locale.Modal.ok},n=u(e,o);return new Promise(l=>{v(Object.assign(Object.assign({},n),{closeOnAction:!0,actions:[{key:"confirm",text:n.confirmText,primary:!0}],onAction:n.onConfirm,onClose:()=>{var a;(a=n.onClose)===null||a===void 0||a.call(n),l()}}))})}const T={confirmText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88"};function j(o){const{locale:e}=y(),n=u(T,{confirmText:e.common.confirm,cancelText:e.common.cancel},o);return new Promise(l=>{v(Object.assign(Object.assign({},n),{closeOnAction:!0,onClose:()=>{var a;(a=n.onClose)===null||a===void 0||a.call(n),l(!1)},actions:[{key:"confirm",text:n.confirmText,primary:!0,onClick:()=>m(this,void 0,void 0,function*(){var a;yield(a=n.onConfirm)===null||a===void 0?void 0:a.call(n),l(!0)})},{key:"cancel",text:n.cancelText,onClick:()=>m(this,void 0,void 0,function*(){var a;yield(a=n.onCancel)===null||a===void 0?void 0:a.call(n),l(!1)})}]}))})}function M(){f.forEach(o=>{o()})}const I=w(h,{show:v,alert:A,confirm:j,clear:M});export{I as M};
