/* empty css                    */import{b as a,j as v,r as c,o as b,m as g,p as S,w as F,g as C,B}from"./index.5670e6e0.js";import{I as _}from"./index.66fe089c.js";function y(t){return a("svg",{...Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),children:a("g",{id:"SearchOutline-SearchOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:v("g",{id:"SearchOutline-\u7F16\u7EC4",children:[a("rect",{id:"SearchOutline-\u77E9\u5F62",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),a("path",{d:"M10.2434135,10.1505371 C17.2346315,3.28315429 28.5696354,3.28315429 35.5608534,10.1505371 C42.3159331,16.7859644 42.5440954,27.4048667 36.2453405,34.3093889 L43.7095294,41.6422249 C43.8671196,41.7970419 43.8693677,42.0502979 43.7145508,42.2078881 C43.7128864,42.2095822 43.7112069,42.2112616 43.7095126,42.2129259 L42.1705322,43.7246464 C42.014915,43.8775072 41.7655181,43.8775006 41.6099089,43.7246316 L34.0775268,36.3248916 L34.0775268,36.3248916 C27.0485579,41.8551751 16.7593545,41.4200547 10.2434135,35.0195303 C3.25219551,28.1521474 3.25219551,17.0179199 10.2434135,10.1505371 Z M12.3532001,12.2229532 C6.52718516,17.9457722 6.52718516,27.2242951 12.3532001,32.9471142 C18.1792151,38.6699332 27.6250517,38.6699332 33.4510667,32.9471142 C39.2770817,27.2242951 39.2770817,17.9457722 33.4510667,12.2229532 C27.6250517,6.50013419 18.1792151,6.50013419 12.3532001,12.2229532 Z",id:"SearchOutline-\u5F62\u72B6",fill:"currentColor",fillRule:"nonzero"})]})})})}const r="adm-search-bar",N={clearable:!0,onlyShowClearWhenFocus:!1,showCancelButton:!1,defaultValue:"",clearOnCancel:!0,icon:a(y,{})},O=c.exports.forwardRef((t,p)=>{const{locale:f}=b(),n=g(N,{cancelText:f.common.cancel},t),[s,w]=S(n),[i,m]=c.exports.useState(!1),o=c.exports.useRef(null),u=c.exports.useRef(!1);c.exports.useImperativeHandle(p,()=>({clear:()=>{var e;return(e=o.current)===null||e===void 0?void 0:e.clear()},focus:()=>{var e;return(e=o.current)===null||e===void 0?void 0:e.focus()},blur:()=>{var e;return(e=o.current)===null||e===void 0?void 0:e.blur()},get nativeElement(){var e,l;return(l=(e=o.current)===null||e===void 0?void 0:e.nativeElement)!==null&&l!==void 0?l:null}}));const x=()=>{let e;return typeof n.showCancelButton=="function"?e=n.showCancelButton(i,s):e=n.showCancelButton&&i,e&&a("div",{className:`${r}-suffix`,children:a(B,{fill:"none",className:`${r}-cancel-button`,onClick:()=>{var l,d,h;n.clearOnCancel&&((l=o.current)===null||l===void 0||l.clear()),(d=o.current)===null||d===void 0||d.blur(),(h=n.onCancel)===null||h===void 0||h.call(n)},onMouseDown:l=>{l.preventDefault()},children:n.cancelText})})};return F(n,v("div",{className:C(r,{[`${r}-active`]:i}),children:[v("div",{className:`${r}-input-box`,children:[n.icon&&a("div",{className:`${r}-input-box-icon`,children:n.icon}),a(_,{ref:o,className:C(`${r}-input`,{[`${r}-input-without-icon`]:!n.icon}),value:s,onChange:w,maxLength:n.maxLength,placeholder:n.placeholder,clearable:n.clearable,onlyShowClearWhenFocus:n.onlyShowClearWhenFocus,onFocus:e=>{var l;m(!0),(l=n.onFocus)===null||l===void 0||l.call(n,e)},onBlur:e=>{var l;m(!1),(l=n.onBlur)===null||l===void 0||l.call(n,e)},onClear:n.onClear,type:"search",enterKeyHint:"search",onEnterPress:()=>{var e,l;u.current||((e=o.current)===null||e===void 0||e.blur(),(l=n.onSearch)===null||l===void 0||l.call(n,s))},"aria-label":f.SearchBar.name,onCompositionStart:()=>{u.current=!0},onCompositionEnd:()=>{u.current=!1}})]}),x()]}))}),E=O;export{E as S};
