import{b as c,j as n,d8 as M,S,B as O,u as T,$ as q,F as P,O as G,aG as H,T as z,r as R,i as L,k as J}from"./index.5670e6e0.js";import{A as K}from"./index.ce6214e9.js";import{H as Q}from"./index.04556cd2.js";import{H as U}from"./index.9fe94518.js";import{M as $}from"./manage.653bb3f0.js";import{P as W}from"./index.c6660251.js";import{S as X}from"./Skeleton.c599669d.js";import{D as Y}from"./dropdown.706ec38f.js";/* empty css                    *//* empty css                 */import"./PurePanel.2a417db7.js";import"./index.42a6e0fb.js";import"./index.92e459fd.js";import"./collapse.e34cf270.js";import"./useFlexGapSupport.172cfcf4.js";const Z="_customerInfo_1cvix_1",ee="_customerHeader_1cvix_8",V={customerInfo:Z,customerHeader:ee};function se(u){const{visibleShare:e,setVisibleShare:l,id:r}=u;return c(W,{visible:e,onClose:()=>l(!1),showCloseButton:!0,bodyStyle:{height:"auto",borderRadius:"20px 20px 0 0"},children:c("div",{className:"py-12 px-10",children:n("div",{onClick:()=>{M(`${window.location.origin}/share?type=${2}&id=${r}`),l(!1)},className:"flex rounded-lg py-1 bg-gradient-to-r from-[#3a5050]  to-[#768586] justify-center items-center text-color-[#fff]",children:[c(S,{name:"copy",className:"w-[16px] h-[16px]"}),c(O,{className:"text-color-[#fff]",fill:"none",children:"\u590D\u5236\u94FE\u63A5"})]})})})}const ce=u=>{var o,i,d,m,x,h,f,p,N,F,y,v,g,A,b,w,C,k,E,_,B,D;const{detail:e}=u,l=T(),r=[{key:"1",label:c("span",{onClick:()=>{var a;return l("/manage/add/channel/information",{state:{id:(a=e==null?void 0:e.data)==null?void 0:a.id}})},children:"\u7F16\u8F91\u8D44\u6599"})}],j=[{key:"2",label:c("span",{onClick:()=>{var a;return M(`${window.location.origin}/share?type=${1}&id=${(a=e==null?void 0:e.data)==null?void 0:a.id}`)},children:"\u5206\u4EAB\u94FE\u63A5"})}],I=[{key:"3",label:c("span",{onClick:()=>{H.show({content:c("div",{className:"font-600 text-center pb-2 text-xl",children:"\u786E\u5B9A\u8981\u5220\u9664\u6E20\u9053"}),closeOnAction:!0,actions:[[{key:"cancel",text:"\u53D6\u6D88",className:"dialog-cancel"},{key:"confirm",text:"\u786E\u8BA4",className:"dialog-confirm",async onClick(){var t;const a=await $.deleteChannel({id:(t=e==null?void 0:e.data)==null?void 0:t.id});a.status===200&&(z.show(a.msg),l("/manage/channel/list"))}}]]})},children:"\u5220\u9664\u6E20\u9053"})}],s=[{key:"3",label:c("span",{onClick:()=>{H.show({content:c("div",{className:"font-600 text-center pb-2 text-xl",children:"\u786E\u5B9A\u8981\u53D6\u6D88\u5173\u8054"}),closeOnAction:!0,actions:[[{key:"cancel",text:"\u53D6\u6D88",className:"dialog-cancel"},{key:"confirm",text:"\u786E\u8BA4",className:"dialog-confirm",async onClick(){var t;const a=await $.cancelChannel({id:(t=e==null?void 0:e.data)==null?void 0:t.id});a.status===200&&(z.show(a.msg),l("/manage/channel/list"))}}]]})},children:"\u53D6\u6D88\u5173\u8054"})}];return c("div",{className:"flex flex-col w-500px h-full justify-center <sm:hidden",children:n(X,{loading:!e,active:!0,children:[n("div",{className:"flex w-full justify-between",children:[n("div",{className:"flex items-center",children:[c("div",{className:"border border-solid flex justify-center items-center border-color-[#cee2ee] border-width-1px w-120px h-120px rounded-full",children:c(q,{name:(o=e==null?void 0:e.data)==null?void 0:o.channel_name,headurl:(i=e==null?void 0:e.data)==null?void 0:i.channel_head,sx:{width:106,height:106}})}),c("div",{className:"flex flex-col pl-8",children:c("p",{className:"font-600 text-lg",children:(d=e==null?void 0:e.data)==null?void 0:d.channel_name})})]}),c(Y,{menu:{items:((m=e==null?void 0:e.data)==null?void 0:m.type)===1?[...r,...j,...I]:((x=e==null?void 0:e.data)==null?void 0:x.type)===2?[...r,...j,...s]:[...r,...s]},placement:"bottom",children:c(S,{name:"point",className:"w-[18px] h-[10px] cursor-pointer"})})]}),n("div",{className:"flex justify-between pt-12",children:[n("div",{className:"flex flex-col w-[48%]",children:[n("div",{className:"flex flex-col rounded-2xl bg-[#f6f8f8] py-4 px-7",children:[n("div",{className:"flex text-xs items-center",children:[c("span",{className:"font-600 text-color-[#3F3F3F]",children:"\u6E20\u9053\u90AE\u7BB1\uFF1A"}),c("span",{className:"underline cursor-pointer text-color-[#3F3F3F]",children:(h=e==null?void 0:e.data)==null?void 0:h.channel_email})]}),n("div",{className:"flex text-xs items-center pt-1",children:[c("span",{className:"font-600 text-color-[#3F3F3F]",children:"\u6E20\u9053\u624B\u673A\uFF1A"}),c("span",{className:"text-color-[#3F3F3F]",children:(f=e==null?void 0:e.data)==null?void 0:f.channel_phone})]})]}),c("div",{className:"flex flex-col rounded-2xl bg-[#f6f8f8] py-4 px-7 mt-4",children:n("div",{className:"flex text-xs text-color-[#3F3F3F]",children:[c("span",{className:"font-600 min-w-40px",children:"\u6210\u672C\uFF1A"}),((p=e==null?void 0:e.data)==null?void 0:p.cost_type)===1&&n("p",{children:[(N=e==null?void 0:e.data)==null?void 0:N.cost,"%"]}),((F=e==null?void 0:e.data)==null?void 0:F.cost_type)===2&&n("div",{className:"text-xs",children:[n("div",{className:"flex",children:[c("p",{children:"\u5802\u98DF\uFF1A"}),c("div",{className:"flex",children:(g=(v=(y=e==null?void 0:e.data)==null?void 0:y.cost)==null?void 0:v.eat_in)==null?void 0:g.map((a,t)=>n("span",{children:[a.time,"min\uFF1A$",a==null?void 0:a.price,"\xA0"]},t))})]}),n("div",{children:[c("p",{children:"\u5916\u5356\uFF1A"}),c("div",{className:"flex",children:(w=(b=(A=e==null?void 0:e.data)==null?void 0:A.cost)==null?void 0:b.take_out)==null?void 0:w.map((a,t)=>n("span",{children:[a.time,"min\uFF1A$",a==null?void 0:a.price,"\xA0"]},t))})]})]})]})})]}),n("div",{className:"flex w-[48%] relative flex-col rounded-2xl bg-[#f6f8f8] py-4 px-7 text-color-[#3F3F3F] text-xs",children:[((C=e==null?void 0:e.data)==null?void 0:C.type)===1&&c(P,{children:n("div",{className:"leading-6 pt-3",children:[n("p",{children:["\u5B8C\u6210\u9884\u7EA6\u6570\uFF1A",(k=e==null?void 0:e.data)==null?void 0:k.order_num]}),n("p",{children:["\u5173\u6CE8\u4EBA\u6570\uFF1A",(E=e==null?void 0:e.data)==null?void 0:E.fans_num,"\u4EBA"]}),n("p",{children:["\u7EFC\u5408\u8BC4\u5206 ",(_=e==null?void 0:e.data)==null?void 0:_.synthesis_score," ",(B=e==null?void 0:e.data)==null?void 0:B.score_num,"\u4EBA\u8BC4\u5206"]})]})}),((D=e==null?void 0:e.data)==null?void 0:D.type)!==1&&c("div",{className:"m-auto",children:"\u6CA1\u6709\u76F8\u5173\u6570\u636E"})]})]}),c("div",{onClick:()=>l(-1),className:"fixed top-80px right-40px",children:c(G,{fontSize:24,className:"cursor-pointer"})})]})})},Fe=()=>{var i,d,m,x,h,f,p,N,F,y,v,g,A,b,w,C,k,E,_,B,D;const[u,e]=R.exports.useState(!1),l=T(),r=L(),[j,I]=R.exports.useState(!1),{data:s}=J(()=>{var a;return $.getChannelDetail({id:(a=r==null?void 0:r.state)==null?void 0:a.id})});let o;return((i=s==null?void 0:s.data)==null?void 0:i.type)!==1&&(o=[{text:"\u53D6\u6D88\u5173\u8054",key:"cancel",onClick:async()=>{H.show({content:c("div",{className:"font-600 text-center pb-2 text-xl",children:"\u786E\u5B9A\u53D6\u6D88\u5173\u8054"}),closeOnAction:!0,actions:[[{key:"cancel",text:"\u53D6\u6D88",className:"dialog-cancel"},{key:"confirm",text:"\u786E\u8BA4",className:"dialog-confirm",async onClick(){var t;const a=await $.cancelChannel({id:(t=s==null?void 0:s.data)==null?void 0:t.id});a.status===200&&(z.show(a.msg),l("/manage/channel/list"))}}]]})}}]),((d=s==null?void 0:s.data)==null?void 0:d.type)===1&&(o=[{text:"\u5220\u9664\u6E20\u9053",key:"delete",danger:!0,onClick:async()=>{H.show({content:c("div",{className:"font-600 text-center pb-2 text-xl",children:"\u786E\u5B9A\u8981\u5220\u9664\u6E20\u9053"}),closeOnAction:!0,actions:[[{key:"cancel",text:"\u53D6\u6D88",className:"dialog-cancel"},{key:"confirm",text:"\u786E\u8BA4",className:"dialog-confirm",async onClick(){var t;const a=await $.deleteChannel({id:(t=s==null?void 0:s.data)==null?void 0:t.id});a.status===200&&(z.show(a.msg),l("/manage/channel/list"))}}]]})}}]),n(P,{children:[n("div",{className:`${V.customerInfo} pb-[90px] flex flex-col items-center sm:hidden`,children:[c(Q,{renderRight:c("div",{onClick:()=>I(!0),className:"flex items-center",children:c(S,{name:"share",style:{color:"#fff"},className:"w-[18px] h-[18px]"})}),leftIconColor:"#fff",bg:"transparent"}),n("div",{className:`${V.customerHeader} h-80 flex items-center flex-col`,children:[c(K,{className:"z-10 mt-20",src:(m=s==null?void 0:s.data)==null?void 0:m.channel_head,style:{"--border-radius":"50%","--size":"76px"}}),c("p",{className:"pt-4 z-10 font-600 text-color-[#fff]",children:(x=s==null?void 0:s.data)==null?void 0:x.channel_name}),n("div",{className:"flex z-10 items-center justify-center",children:[n("p",{className:"text-xs",children:["\u7EFC\u5408\u8BC4\u5206\uFF1A",(h=s==null?void 0:s.data)==null?void 0:h.synthesis_score]}),n("p",{className:"text-xs ml-2",children:[(f=s==null?void 0:s.data)==null?void 0:f.score_num,"\u4EBA\u8BC4\u5206"]})]})]}),n("div",{className:"shadow-sm flex justify-center py-4 w-[70%] -m-14 bg-[#fff] rounded-lg z-20",children:[n("div",{className:"flex flex-col items-center w-[50%] border-r",children:[c("p",{className:"text-xs",children:"\u5B8C\u6210\u9884\u7EA6\u6570"}),c("p",{className:"text-2xl font-600",children:((p=s==null?void 0:s.data)==null?void 0:p.order_num)||0})]}),n("div",{className:"flex flex-col items-center w-[50%]",children:[c("p",{className:"text-xs",children:"\u5173\u6CE8\u4EBA\u6570"}),c("p",{className:"text-2xl font-600",children:((N=s==null?void 0:s.data)==null?void 0:N.fans_num)||0})]})]}),n("div",{className:"shadow-sm flex flex-col px-8 py-8 mb-4 w-[70%] mt-20 bg-[#fff] rounded-lg",children:[n("div",{className:"flex flex-col",children:[c("p",{className:"text-xs",children:"\u90AE\u7BB1"}),c("p",{className:"text-xs font-600",children:((F=s==null?void 0:s.data)==null?void 0:F.channel_email)||"--"})]}),n("div",{className:"flex flex-col pt-4",children:[c("p",{className:"text-xs",children:"\u624B\u673A\u53F7\u7801"}),c("p",{className:"text-xs font-600",children:((y=s==null?void 0:s.data)==null?void 0:y.channel_phone)||"--"})]})]}),n("div",{className:"shadow-sm flex flex-col px-8 py-8 mb-4 w-[70%] mt-2 bg-[#fff] rounded-lg",children:[n("div",{className:"flex items-center",children:[c("p",{className:"border-r text-xs pr-4",children:"\u6210\u672C"}),((v=s==null?void 0:s.data)==null?void 0:v.cost_type)===1&&n("p",{className:"text-sm pl-4 font-600",children:[(g=s==null?void 0:s.data)==null?void 0:g.cost,"%"]})]}),((A=s==null?void 0:s.data)==null?void 0:A.cost_type)===2&&((b=s==null?void 0:s.data)==null?void 0:b.cost)&&n("div",{className:"text-xs pt-2 font-600",children:[n("p",{className:"\r flex items-center",children:["\u5802\u98DF\uFF1A",(k=(C=(w=s==null?void 0:s.data)==null?void 0:w.cost)==null?void 0:C.eat_in)==null?void 0:k.map((a,t)=>n("span",{children:[a.time,"min\uFF1A$",a==null?void 0:a.price," \xA0"]},t))]}),n("p",{children:["\u5916\u5356\uFF1A",(B=(_=(E=s==null?void 0:s.data)==null?void 0:E.cost)==null?void 0:_.take_out)==null?void 0:B.map((a,t)=>n("span",{children:[a.time,"min\uFF1A$",a==null?void 0:a.price," \xA0"]},t))]})]})]}),n("div",{className:"fixed-b-btn flex",children:[c(O,{className:"w-[12%] flex items-center justify-center mr-4 h-[2.75rem] rounded-xl border-0 bg-[#F3F3F3]",block:!0,onClick:()=>e(!0),children:c(S,{name:"point",className:"w-[15px] h-[3px]"})}),c(O,{onClick:()=>{var a;return l("/manage/add/channel/information",{state:{id:(a=s==null?void 0:s.data)==null?void 0:a.id}})},className:" bg-[#F3F3F3]  w-[56%] h-[2.75rem] rounded-xl",block:!0,type:"submit",loadingIcon:c(P,{}),children:n("div",{className:"flex items-center justify-center",children:[c(S,{name:"edit",className:"w-[18px] h-[18px]"}),c("p",{className:"ml-2",children:"\u7F16\u8F91\u8D44\u6599"})]})})]}),c(se,{visibleShare:j,setVisibleShare:I,id:(D=s==null?void 0:s.data)==null?void 0:D.id}),c(U,{actions:o,visible:u,setVisible:e})]}),c(ce,{detail:s})]})};export{Fe as default};
