import{r as c,u as H,k as E,j as a,b as t,$ as L,S as i,d8 as F,B as f,di as T,U as V,T as Q,s as q,de as G}from"./index.5670e6e0.js";import{P as A}from"./index.c6660251.js";import{H as J}from"./index.04556cd2.js";import{s as D}from"./index.module.9aff68bf.js";import{Q as K}from"./index.3921e63d.js";import{U as M}from"./upload.3b886abe.js";import{P as O}from"./personal.dd90e075.js";/* empty css                    *//* empty css                 */const W=[{id:1,title:"\u4E2A\u4EBA\u4FE1\u606F",desc:"\u67E5\u770B\u548C\u7F16\u8F91\u4E2A\u4EBA\u8D44\u6599",path:"/personal/information"},{id:2,title:"\u6211\u7684\u94B1\u5305",desc:"\u67E5\u770B\u6536\u6B3E\u65B9\u5F0F\u53CA\u6D41\u6C34\u660E\u7EC6",path:"/personal/wallet"},{id:3,title:"\u8D26\u53F7\u6743\u9650",desc:"\u5F00\u901A\u76F8\u5173\u670D\u52A1\u4EE5\u83B7\u5F97\u6743\u9650",path:"/personal/auth"},{id:4,title:"\u8D26\u53F7\u5B89\u5168",desc:"\u4FEE\u6539\u5BC6\u7801\u53CA\u64CD\u4F5C\u8D26\u53F7\u72B6\u6001",path:"/personal/security"},{id:5,title:"\u8D26\u6237\u8BBE\u7F6E",desc:"\u4FEE\u6539\u5BC6\u7801\u53CA\u67E5\u770B\u7248\u672C\u4FE1\u606F",path:"/personal/setting"}];function ce(){var h,N,v,g,y,C,b,B;const[j,n]=c.exports.useState(!1),[k,o]=c.exports.useState(!1);c.exports.useState(!1);const m=c.exports.useRef(),S=H(),{data:e,refresh:X}=E(()=>V.getUserInfo({})),[d,_]=c.exports.useState({file_path:"",file_url:""}),x=c.exports.useRef(null);let p="";((h=e==null?void 0:e.data)==null?void 0:h.user_type)*1===2&&(p="4"),((N=e==null?void 0:e.data)==null?void 0:N.user_type)*1===1&&(p="3");const R=()=>a("div",{className:"flex items-center text-color-[#fff]",children:[t(i,{onClick:()=>o(!0),name:"personal",className:"w-[19px] h-[19px] mr-4"}),t(i,{onClick:()=>n(!0),name:"share",className:"w-[19px] h-[19px]"})]}),$=()=>t("div",{className:"flex w-full flex-col mt-20",children:W.map(s=>a("div",{onClick:()=>S(s.path),style:{borderBottom:"1px solid #eee"},className:"flex px-10 py-5 items-center justify-between active:bg-[#f9f9fa]",children:[a("div",{className:"flex flex-col",children:[t("p",{className:"text-sm",children:s==null?void 0:s.title}),t("p",{className:"text-xs text-color-[#646464]",children:s==null?void 0:s.desc})]}),t(i,{name:"verify-right",className:"w-[6px] h-[10px]"})]},s.id))}),P=async s=>{var u,w;const r=[...s.target.files];if(r.length){const l=await M.uploadFile(r);(l==null?void 0:l.status)===200&&(Q.show(l.data.msg),U({head:(w=(u=l==null?void 0:l.data)==null?void 0:u.data)==null?void 0:w.file_url}),_(l.data.data))}},{run:U}=E(s=>O.updateHead(s),{manual:!0,onSuccess(){q.dispatch(G)}}),z=()=>{var s,r,u;return a("div",{className:"shadow-sm flex justify-center py-4 w-[70%] -m-14 bg-[#fff] rounded-lg z-20",children:[a("div",{className:"flex flex-col items-center w-[50%] border-r",children:[t("p",{className:"text-xs",children:"\u8BC4\u5206"}),t("p",{className:"text-2xl font-600",children:(s=e==null?void 0:e.data)==null?void 0:s.synthesis_score})]}),a("div",{className:"flex flex-col items-center w-[50%] border-r",children:[t("p",{className:"text-xs",children:"\u8BA2\u5355"}),t("p",{className:"text-2xl font-600",children:(r=e==null?void 0:e.data)==null?void 0:r.order_num})]}),a("div",{className:"flex flex-col items-center w-[50%]",children:[t("p",{className:"text-xs",children:"\u7C89\u4E1D"}),t("p",{className:"text-2xl font-600",children:(u=e==null?void 0:e.data)==null?void 0:u.fans_num})]})]})};return a("div",{className:`${D.personalInfo} pb-[90px] flex flex-col items-center`,children:[t(J,{leftIconColor:"#fff",bg:"#2A4948",renderLeft:!1,renderRight:t(R,{})}),a("div",{className:`${D.customerHeader}  h-75 flex items-center flex-col`,children:[a("div",{className:"relative mt-20",children:[t(L,{className:"z-10",headurl:(d==null?void 0:d.file_url)||((v=e==null?void 0:e.data)==null?void 0:v.head),name:(g=e==null?void 0:e.data)==null?void 0:g.nickname}),t("div",{onClick:async()=>await x.current.click(),className:"w-18px -bottom-0 -right-0 absolute z-99 h-18px bg-[#fff] rounded-full flex justify-center items-center",children:t(i,{name:"amend",className:"w-10px h-9px"})}),t("input",{id:"file",type:"file",ref:x,accept:".jpg,.jpeg,.png",hidden:!0,onChange:s=>P(s)})]}),t("div",{className:"pt-4 z-10 font-600 text-color-[#fff] relative",children:(y=e==null?void 0:e.data)==null?void 0:y.nickname}),a("p",{className:"text-xs z-10 text-color-[#fff] opacity-70",children:["UID ",(C=e==null?void 0:e.data)==null?void 0:C.user_id]})]}),t(z,{}),t($,{}),t(A,{visible:j,onClose:()=>n(!1),showCloseButton:!0,bodyStyle:{height:"auto",borderRadius:"20px 20px 0 0"},children:t("div",{className:"py-12 px-10",children:a("div",{onClick:()=>{F(`${window.location.origin}/share?type=${p}&id=${e==null?void 0:e.data.user_id}`),n(!1)},className:"flex rounded-lg py-1 bg-gradient-to-r from-[#3a5050]  to-[#768586] justify-center items-center text-color-[#fff]",children:[t(i,{name:"copy",className:"w-[16px] h-[16px]"}),t(f,{className:"text-color-[#fff]",fill:"none",children:"\u590D\u5236\u94FE\u63A5"})]})})}),a(A,{visible:k,onClose:()=>o(!1),showCloseButton:!0,bodyStyle:{height:"auto",borderRadius:"20px 20px 0 0"},children:[a("div",{ref:m,className:"flex flex-col justify-center items-center py-5 text-xs text-color-[#858585]",children:[a("p",{children:[(b=e==null?void 0:e.data)==null?void 0:b.nickname," \u9080\u8BF7\u60A8\u52A0\u5165HIILP"]}),t("p",{className:"pb-5",children:"\u626B\u63CF\u4E0B\u65B9\u4E8C\u7EF4\u7801\u7ACB\u5373\u52A0\u5165"}),t(K,{value:`${window.location.origin}/user`,fgColor:"#496b6a",size:135}),a("p",{className:"pb-5 pt-2",children:["\u9080\u8BF7\u7801 ",(B=e==null?void 0:e.data)==null?void 0:B.invitation_code]})]}),a("div",{className:"pt-14 pb-10 px-4 flex items-center justify-between",children:[a("div",{onClick:()=>{F(`${window.location.origin}/user`),o(!1)},className:"flex rounded-lg py-1 px-8 bg-[#f3f3f3] justify-center items-center text-color-[#fff]",children:[t(i,{name:"copy",style:{color:"#2A4948"},className:"w-[16px] h-[16px]"}),t(f,{className:"text-color-[#2A4948]",fill:"none",children:"\u590D\u5236\u94FE\u63A5"})]}),a("div",{onClick:()=>{setTimeout(()=>{T(m)},2e3)},className:"flex rounded-lg py-1 px-8 bg-[#f3f3f3] justify-center items-center text-color-[#fff]",children:[t(i,{name:"img",className:"w-[20px] h-[16px]"}),t(f,{className:"text-color-[#2A4948]",fill:"none",children:"\u4FDD\u5B58\u56FE\u7247"})]})]})]})]})}export{ce as default};
