import{i as q,u as V,k as c,b as e,F as R,j as t,a0 as l,$ as G,S as J,B as s,aF as o}from"./index.5670e6e0.js";import{H as K}from"./index.04556cd2.js";import{a as P}from"./index.30722385.js";import{E as S}from"./index.1c39e7a0.js";/* empty css                    *//* empty css                 */import"./index.9bb4ee10.js";import"./index.af3e2847.js";import"./use-gesture-react.esm.346ddc85.js";import"./bound.bddb6539.js";import"./index.5733fb44.js";const Q="_viewBooking_1ound_1",T={viewBooking:Q},la=()=>{var u,m,r,h,p,f,x,v,N,b,y,g,_,A,F,w,D,k,B,j,E,C,Y,$,H,M;const d=q(),n=V(),{data:a,loading:z}=c(()=>{var i;return o.getSubscribeDetail({id:(i=d==null?void 0:d.state)==null?void 0:i.id})}),{runAsync:L}=c(()=>{var i;return o.editOrder({source:1,id:(i=a==null?void 0:a.data)==null?void 0:i.id})},{manual:!0,onSuccess(){n("/calendar")}}),{runAsync:O}=c(()=>{var i;return o.editOrder({source:7,id:(i=a==null?void 0:a.data)==null?void 0:i.id})},{manual:!0});return z?e(R,{}):t("div",{className:`${T.viewBooking} bg-[#fff] pt-[48px]`,children:[e(K,{renderLeft:!1}),t("div",{className:"px-[46px] pt-[48px] pb-[100px]",children:[t("div",{className:"h-24",children:[e("p",{className:"font-600 text-[#2A4948] text-2xl ",children:l(((u=a==null?void 0:a.data)==null?void 0:u.start_time)*1e3).format("YYYY\u5E74MM\u6708DD\u65E5")}),e("p",{className:"text-[#9A9A9A]",children:l(((m=a==null?void 0:a.data)==null?void 0:m.start_time)*1e3).format("HH:mm")})]}),t("div",{className:"text-xs",children:[e("p",{className:"text-[#777777] font-600 h24",children:(r=a==null?void 0:a.data)==null?void 0:r.client_name}),t("p",{className:"text-[#848484]",children:[((h=a==null?void 0:a.data)==null?void 0:h.server_type)===1&&"\u5802\u98DF",((p=a==null?void 0:a.data)==null?void 0:p.server_type)===2&&"\u5916\u5356","\uFF0C\u4E0E",(f=a==null?void 0:a.data)==null?void 0:f.staff_name," ",((x=a==null?void 0:a.data)==null?void 0:x.duration)/60,"\u5C0F\u65F6\u7684\u9884\u7EA6"]})]}),e("div",{className:"border-b my-4"}),t("div",{className:"text-xs text-[#777777]",children:[t("div",{className:"flex justify-between h24",children:[t("div",{children:[e("span",{className:"font-600",children:"\u57FA\u7840\u670D\u52A1\uFF1A"}),e("span",{children:(v=a==null?void 0:a.data)==null?void 0:v.basics_server})]}),t("div",{children:["$",(N=a==null?void 0:a.data)==null?void 0:N.basics_price]})]}),t("div",{className:"flex justify-between h24",children:[t("div",{children:[e("span",{className:"font-600",children:"\u989D\u5916\u670D\u52A1\uFF1A"}),e("span",{children:(b=a==null?void 0:a.data)==null?void 0:b.extra_server})]}),t("div",{children:["$",(y=a==null?void 0:a.data)==null?void 0:y.extra_price]})]}),t("div",{className:"flex justify-between h24",children:[e("div",{children:e("span",{className:"font-600",children:"\u5B9A\u91D1"})}),t("div",{children:["$",(g=a==null?void 0:a.data)==null?void 0:g.earnest]})]})]}),e("div",{className:"border-b my-4"}),t("div",{className:"font-600 flex justify-between h24",children:[t("p",{children:[((_=a==null?void 0:a.data)==null?void 0:_.duration)/60,"hr"]}),t("p",{children:["$",(A=a==null?void 0:a.data)==null?void 0:A.pay_amount]})]}),t("div",{className:"text-xs mb-2 text-[#B7B7B7]",children:["\u8BA2\u5355\u53F7#",(F=a==null?void 0:a.data)==null?void 0:F.order_no," ",l(((w=a==null?void 0:a.data)==null?void 0:w.start_time)*1e3).format("YYYY/MM/DD hh:mm:ss")]}),t("div",{className:"text-xs mt-4 text-[#464646]",children:[t("div",{className:"h24",children:[e("span",{className:"font-600",children:"\u5730\u5740\uFF1A"}),e("span",{className:"text-[#77777]",children:(D=a==null?void 0:a.data)==null?void 0:D.address})]}),t("div",{className:"h24",children:[e("span",{className:"font-600",children:"\u5907\u6CE8\uFF1A"}),e("span",{className:"text-[#77777]",children:(k=a==null?void 0:a.data)==null?void 0:k.remark})]})]}),e("div",{className:"border-b my-6"}),t("div",{onClick:()=>{var i,I;n("/manage/customer/info",{state:{id:(i=a==null?void 0:a.data)==null?void 0:i.client_id,type:"onlineCustomer",source:(I=a==null?void 0:a.data)==null?void 0:I.source}})},className:"text-xs flex justify-between items-center",children:[t("div",{className:"flex justify-between items-center",children:[e("div",{className:"border border-solid  rounded-[50%] p-px mr-4",children:e(G,{name:(B=a==null?void 0:a.data)==null?void 0:B.client_name,sx:{width:40,height:40},headurl:(j=a==null?void 0:a.data)==null?void 0:j.client_head})}),t("div",{children:[e("p",{children:(E=a==null?void 0:a.data)==null?void 0:E.client_name}),e("p",{children:(C=a==null?void 0:a.data)==null?void 0:C.client_email})]})]}),e(J,{name:"verify-right",className:"w-1.5 h-[10px]"})]})]}),((Y=a==null?void 0:a.data)==null?void 0:Y.status)===5&&t("div",{className:"fixed-b-btn flex justify-around",children:[e(P,{name:($=a==null?void 0:a.data)==null?void 0:$.staff_name,id:(H=a==null?void 0:a.data)==null?void 0:H.staff_id}),e(s,{className:"w-[35%]",shape:"rounded",block:!0,type:"submit",size:"large",color:"primary",loadingIcon:e(R,{}),onClick:()=>{var i;n("/calendar/pay",{state:{pay_amount:(i=a==null?void 0:a.data)==null?void 0:i.pay_amount}})},children:"\u7ED3\u4ED8"})]}),((M=a==null?void 0:a.data)==null?void 0:M.status)===1&&t("div",{className:"fixed-b-btn flex justify-around",children:[e(s,{loading:"auto",loadingIcon:e(S,{}),className:"w-[35%] border-0 text-[#2A4948] bg-[#F3F3F3]",shape:"rounded",block:!0,size:"large",onClick:async()=>{await L()},children:"\u62D2\u7EDD\u63A5\u5355"}),e(s,{onClick:async()=>{await O()},className:"w-[35%]",shape:"rounded",block:!0,type:"submit",size:"large",color:"primary",loading:"auto",loadingIcon:e(S,{}),children:"\u63A5\u53D7\u8BA2\u5355"})]})]})};export{la as default};
