import{r as C,J as oe,R as S,N as U,b as n,m as re,j as a,M as le,t as ie,Q as de,bn as me,h as ue,i as fe,u as xe,F as he,W as pe,B as ge,T as ve,S as _e,k as Ie,$ as Ee}from"./index.5670e6e0.js";/* empty css                    */import{u as te}from"./index.5733fb44.js";import{r as ae}from"./rubberband.c88fa690.js";import{c as ke,d as $e,p as De,u as Be}from"./use-gesture-react.esm.346ddc85.js";import{b as B}from"./bound.bddb6539.js";import{c as Se}from"./convert-px.daab3cc2.js";import{E as Ne}from"./index.1c39e7a0.js";import{N as Re,H as Te}from"./index.04556cd2.js";import{M as K}from"./manage.653bb3f0.js";/* empty css                 */const Me=ke([$e,De]),G=()=>[1,0,0,1,0,0],ne=t=>t[4],ce=t=>t[5],Y=t=>t[0],W=(t,s,e)=>be([1,0,0,1,s,e],t),Ze=(t,s,e=s)=>be([s,0,0,e,0,0],t),je=(t,[s,e])=>[t[0]*s+t[2]*e+t[4],t[1]*s+t[3]*e+t[5]],be=(t,s)=>[t[0]*s[0]+t[2]*s[1],t[1]*s[0]+t[3]*s[1],t[0]*s[2]+t[2]*s[3],t[1]*s[2]+t[3]*s[3],t[0]*s[4]+t[2]*s[5]+t[4],t[1]*s[4]+t[3]*s[5]+t[5]],J="adm-image-viewer",we=t=>{const{dragLockRef:s,maxZoom:e}=t,r=C.exports.useRef(null),f=C.exports.useRef(null),[{matrix:u},N]=oe(()=>({matrix:G(),config:{tension:200}})),i=te(r),h=te(f),o=C.exports.useRef(!1),d=(c,m,x=!1)=>{if(!i||!h)return c;const p=-i.width/2,v=-i.height/2,$=-h.width/2,D=-h.height/2,w=Y(c),b=w*h.width,g=w*h.height,[y,A]=je(c,[$,D]);if(m==="translate"){let _=y,I=A;if(b>i.width){const E=p-(b-i.width),k=p;_=x?B(y,E,k):ae(y,E,k,w*50)}else _=-b/2;if(g>i.height){const E=v-(g-i.height),k=v;I=x?B(A,E,k):ae(A,E,k,w*50)}else I=-g/2;return W(c,_-y,I-A)}if(m==="scale"&&x){const[_,I]=[b>i.width?B(y,p-(b-i.width),p):-b/2,g>i.height?B(A,v-(g-i.height),v):-g/2];return W(c,_-y,I-A)}return c};return Me({onDrag:c=>{if(c.first)return;if(c.pinching)return c.cancel();if(c.tap&&c.elapsedTime>0&&c.elapsedTime<1e3){t.onTap();return}const m=Y(u.get());if(s&&(s.current=m!==1),!o.current&&m<=1)N.start({matrix:G()});else{const x=u.get(),p=[c.offset[0]-ne(x),c.offset[1]-ce(x)],v=W(x,...c.last?[p[0]+c.velocity[0]*c.direction[0]*200,p[1]+c.velocity[1]*c.direction[1]*200]:p);N.start({matrix:d(v,"translate",c.last),immediate:!c.last})}},onPinch:c=>{var m;o.current=!c.last;const[x]=c.offset;if(x<0)return;let p;e==="auto"?p=i&&h?Math.max(i.height/h.height,i.width/h.width):1:p=e;const v=c.last?B(x,1,p):x;if((m=t.onZoomChange)===null||m===void 0||m.call(t,v),c.last&&v<=1)N.start({matrix:G()}),s&&(s.current=!1);else{if(!i)return;const $=u.get(),D=Y($),w=c.origin[0]-i.width/2,b=c.origin[1]-i.height/2;let g=W($,-w,-b);g=Ze(g,v/D),g=W(g,w,b),N.start({matrix:d(g,"scale",c.last),immediate:!c.last}),s&&(s.current=!0)}}},{target:r,drag:{from:()=>[ne(u.get()),ce(u.get())],pointer:{touch:!0}},pinch:{from:()=>[Y(u.get()),0],pointer:{touch:!0}}}),S.createElement("div",{className:`${J}-slide`,onPointerMove:c=>{Y(u.get())!==1&&c.stopPropagation()}},S.createElement("div",{className:`${J}-control`,ref:r},S.createElement(U.div,{className:`${J}-image-wrapper`,style:{matrix:u}},n("img",{ref:f,src:t.image,draggable:!1,alt:t.image}))))},Q="adm-image-viewer",ze=C.exports.forwardRef((t,s)=>{const e=window.innerWidth+Se(16),[{x:r},f]=oe(()=>({x:t.defaultIndex*e,config:{tension:250,clamp:!0}})),u=t.images.length;function N(o,d=!1){var c;const m=B(o,0,u-1);(c=t.onIndexChange)===null||c===void 0||c.call(t,m),f.start({x:m*e,immediate:d})}C.exports.useImperativeHandle(s,()=>({swipeTo:N}));const i=C.exports.useRef(!1),h=Be(o=>{if(i.current)return;const[d]=o.offset;if(o.last){const c=Math.floor(d/e),m=c+1,x=Math.min(o.velocity[0]*2e3,e)*o.direction[0];N(B(Math.round((d+x)/e),c,m))}else f.start({x:d,immediate:!0})},{transform:([o,d])=>[-o,d],from:()=>[r.get(),0],bounds:()=>({left:0,right:(u-1)*e}),rubberband:!0,axis:"x",pointer:{touch:!0}});return S.createElement("div",Object.assign({className:`${Q}-slides`},h()),S.createElement(U.div,{className:`${Q}-indicator`},r.to(o=>`${B(Math.round(o/e),0,u-1)+1} / ${u}`)),S.createElement(U.div,{className:`${Q}-slides-inner`,style:{x:r.to(o=>-o)}},t.images.map((o,d)=>n(we,{image:o,onTap:t.onTap,maxZoom:t.maxZoom,onZoomChange:c=>{if(c!==1){const m=Math.round(r.get()/e);f.start({x:m*e})}},dragLockRef:i},d))))}),q="adm-image-viewer",Fe={maxZoom:3,getContainer:null,visible:!1},Ce=t=>{var s;const e=re(Fe,t),r=a(le,{visible:e.visible,disableBodyScroll:!1,opacity:"thick",afterClose:e.afterClose,destroyOnClose:!0,children:[n("div",{className:`${q}-content`,children:e.image&&n(we,{image:e.image,onTap:()=>{var f;(f=e.onClose)===null||f===void 0||f.call(e)},maxZoom:e.maxZoom})}),e.image&&a("div",{className:`${q}-footer`,children:[(s=e.renderFooter)===null||s===void 0?void 0:s.call(e,e.image),n(ie,{position:"bottom"})]})]});return de(e.getContainer,r)},Oe=Object.assign(Object.assign({},Fe),{defaultIndex:0}),ye=C.exports.forwardRef((t,s)=>{var e;const r=re(Oe,t),[f,u]=C.exports.useState(r.defaultIndex),N=C.exports.useRef(null);C.exports.useImperativeHandle(s,()=>({swipeTo:(o,d)=>{var c;u(o),(c=N.current)===null||c===void 0||c.swipeTo(o,d)}}));const i=C.exports.useCallback(o=>{var d;u(o),(d=r.onIndexChange)===null||d===void 0||d.call(r,o)},[r.onIndexChange]),h=a(le,{visible:r.visible,disableBodyScroll:!1,opacity:"thick",afterClose:r.afterClose,destroyOnClose:!0,children:[n("div",{className:`${q}-content`,children:r.images&&n(ze,{ref:N,defaultIndex:f,onIndexChange:i,images:r.images,onTap:()=>{var o;(o=r.onClose)===null||o===void 0||o.call(r)},maxZoom:r.maxZoom})}),r.images&&a("div",{className:`${q}-footer`,children:[(e=r.renderFooter)===null||e===void 0?void 0:e.call(r,r.images[f],f),n(ie,{position:"bottom"})]})]});return de(r.getContainer,h)}),R=new Set;function Pe(t){se();const s=me(n(Ce,{...Object.assign({},t,{afterClose:()=>{var e;R.delete(s),(e=t.afterClose)===null||e===void 0||e.call(t)}})}));return R.add(s),s}function He(t){se();const s=me(n(ye,{...Object.assign({},t,{afterClose:()=>{var e;R.delete(s),(e=t.afterClose)===null||e===void 0||e.call(t)}})}));return R.add(s),s}function se(){R.forEach(t=>{t.close()}),R.clear()}const Le=ue(ye,{show:He}),Ae=ue(Ce,{Multi:Le,show:Pe,clear:se}),Ve="_customerInfo_1cvix_1",Xe="_customerHeader_1cvix_8",ee={customerInfo:Ve,customerHeader:Xe},Ye=t=>{var h,o,d,c,m,x,p,v,$,D,w,b,g,y,A,_,I,E,k,T,M,Z,j,z,O,P,H,L,V,X;const{detail:s}=t,e=fe(),r=xe(),[f,u]=C.exports.useState(!1),N=async()=>{var F;const l=await K.signingApply({id:(F=e==null?void 0:e.state)==null?void 0:F.id});l.status===200&&(ve.show(l.msg),r(-1))},i=n(_e,{style:{color:"",width:"20px",height:"48px"},name:"nav-left"});return a("div",{className:"flex flex-col items-center min-h-[calc(100vh-60px)]",children:[n(Re,{style:{"--height":"48px",fontSize:"12px",width:832},left:a("div",{onClick:()=>r(-1),className:`${ee.pcLeft} cursor-pointer flex items-center justify-start text-sm`,children:[i,n("span",{className:"pl-2",children:"\u8FD4\u56DE"})]}),backArrow:n(he,{}),children:n("span",{className:"flex text-sm items-center justify-center",children:"\u8BE6\u60C5\u8D44\u6599"})}),a("div",{className:"w-500px",children:[a("div",{className:"flex items-center flex-col",children:[n("p",{className:"pt-4 z-10 font-600 text-color-[#333]",children:(h=s==null?void 0:s.data)==null?void 0:h.nickname}),a("p",{className:"z-10 text-xs text-color-[#333] mt-[8px] mb-[16px]",children:["\u7EFC\u5408\u8BC4\u5206 ",(o=s==null?void 0:s.data)==null?void 0:o.synthesis_score," ",a("span",{className:"ml-2",children:["\u5171",(d=s==null?void 0:s.data)==null?void 0:d.score_num,"\u4EBA\u8BC4\u5206"]})]})]}),a("div",{className:"shadow-sm flex justify-between px-8 py-6 w-[100%] bg-[#fff] rounded-lg z-20",children:[a("div",{className:"flex flex-col",children:[n("p",{className:"text-xs",children:"\u5E74\u9F84"}),a("p",{className:"text-sm font-500 text-color-[#292929]",children:[((c=s==null?void 0:s.data)==null?void 0:c.age)||"--","\u5C81"]})]}),a("div",{className:"flex flex-col",children:[n("p",{className:"text-xs",children:"\u4F53\u91CD"}),a("p",{className:"text-sm font-500 text-color-[#292929]",children:[((m=s==null?void 0:s.data)==null?void 0:m.weight)||"--","kg"]})]}),a("div",{className:"flex flex-col",children:[n("p",{className:"text-xs",children:"\u8EAB\u9AD8"}),a("p",{className:"text-sm font-500 text-color-[#292929]",children:[((x=s==null?void 0:s.data)==null?void 0:x.height)||"--","cm"]})]}),a("div",{className:"flex flex-col",children:[n("p",{className:"text-xs",children:"\u80F8\u56F4"}),n("p",{className:"text-sm font-500 text-color-[#292929]",children:((p=s==null?void 0:s.data)==null?void 0:p.chest)||"--"})]})]}),n("div",{className:"shadow-sm flex flex-col px-8 py-4 mb-4 w-[100%] mt-4 bg-[#fff] rounded-lg",children:a("div",{className:"flex flex-col",children:[n("p",{className:"text-xs",children:"\u7B80\u4ECB"}),n("p",{className:"text-xs font-500 text-color-[#292929]",children:((v=s==null?void 0:s.data)==null?void 0:v.introduce)||"--"})]})}),!!(($=s==null?void 0:s.data)!=null&&$.picture.length)&&a("div",{className:"shadow-sm flex flex-col mb-4 w-[100%] mt-1 bg-[#fff] rounded-lg",children:[n(pe,{src:(D=s==null?void 0:s.data)==null?void 0:D.picture[0],onClick:()=>u(!0),className:"rounded-lg",fit:"cover"}),n(Ae.Multi,{images:(w=s==null?void 0:s.data)==null?void 0:w.picture,defaultIndex:1,visible:f,onClose:()=>{u(!1)}})]}),a("div",{className:"shadow-sm flex flex-col px-8 py-4 mb-4 w-[100%] mt-1 bg-[#fff] rounded-lg",children:[a("div",{className:"flex flex-col",children:[n("p",{className:"text-xs",children:"\u57FA\u7840\u670D\u52A1"}),n("p",{className:"text-sm font-500 text-color-[#292929]",children:(b=s==null?void 0:s.data)==null?void 0:b.basis})]}),a("div",{className:"flex flex-col pt-4",children:[n("p",{className:"text-xs",children:"\u989D\u5916\u670D\u52A1"}),n("p",{className:"text-sm font-500 text-color-[#292929]",children:(g=s==null?void 0:s.data)==null?void 0:g.extra})]})]}),a("div",{className:"shadow-sm flex flex-col px-8 py-4 mb-4 w-[100%] mt-1 bg-[#fff] rounded-lg",children:[a("div",{className:"flex items-center",children:[n("p",{className:"text-xs pr-4",children:"\u5458\u5DE5\u6210\u672C"}),((y=s==null?void 0:s.data)==null?void 0:y.cost_type)===1&&a("p",{className:"text-xs font-600",children:[(A=s==null?void 0:s.data)==null?void 0:A.cost,"%"]})]}),((_=s==null?void 0:s.data)==null?void 0:_.cost_type)===2&&a("div",{className:"text-xs pt-2 font-600",children:[a("p",{className:"flex items-center",children:[((E=(I=s==null?void 0:s.data)==null?void 0:I.cost)==null?void 0:E.eat_in)&&"\u5802\u98DF\uFF1A",(M=(T=(k=s==null?void 0:s.data)==null?void 0:k.cost)==null?void 0:T.eat_in)==null?void 0:M.map((l,F)=>a("span",{children:[l.time,"min\uFF1A$",l==null?void 0:l.price," \xA0"]},F))]}),a("p",{children:[((j=(Z=s==null?void 0:s.data)==null?void 0:Z.cost)==null?void 0:j.take_out)&&"\u5916\u5356\uFF1A",(P=(O=(z=s==null?void 0:s.data)==null?void 0:z.cost)==null?void 0:O.take_out)==null?void 0:P.map((l,F)=>a("span",{children:[l.time,"min\uFF1A$",l==null?void 0:l.price," \xA0"]},F))]})]}),((H=s==null?void 0:s.data)==null?void 0:H.min_duration)&&n("div",{className:"text-xs font-600",children:a("p",{className:"flex items-center",children:["\u6700\u4F4E\u65F6\u957F\uFF1A",a("span",{children:[(L=s==null?void 0:s.data)==null?void 0:L.min_duration,"min"]})]})}),((V=s==null?void 0:s.data)==null?void 0:V.min_price)&&n("div",{className:"text-xs font-600",children:a("p",{className:"flex items-center",children:["\u6700\u4F4E\u5355\u4EF7\uFF1A",a("span",{children:["$",(X=s==null?void 0:s.data)==null?void 0:X.min_price]})]})})]}),n("div",{className:"flex",children:n(ge,{onClick:N,className:"w-[100%] h-[2.75rem]",loading:"auto",shape:"rounded",block:!0,type:"submit",color:"primary",loadingIcon:n(Ne,{}),children:"\u7533\u8BF7\u7B7E\u7EA6"})})]})]})},ns=()=>{var N,i,h,o,d,c,m,x,p,v,$,D,w,b,g,y,A,_,I,E,k,T,M,Z,j,z,O,P,H,L,V,X;const t=fe(),s=xe(),{data:e}=Ie(()=>{var l;return K.userDetails({id:(l=t==null?void 0:t.state)==null?void 0:l.id})}),[r,f]=C.exports.useState(!1),u=async()=>{var F;const l=await K.signingApply({id:(F=t==null?void 0:t.state)==null?void 0:F.id});l.status===200&&(ve.show(l.msg),s(-1))};return a(he,{children:[a("div",{className:`${ee.customerInfo} pb-[90px] flex flex-col items-center sm:hidden`,children:[n(Te,{bg:"#2A4948",leftIconColor:"#fff",renderRight:!1}),a("div",{className:`${ee.customerHeader} h-75 flex items-center flex-col`,children:[n(Ee,{name:(N=e==null?void 0:e.data)==null?void 0:N.nickname,headurl:(i=e==null?void 0:e.data)==null?void 0:i.head,className:"z-10 mt-20 text-lg"}),n("p",{className:"pt-4 z-10 font-600 text-color-[#fff]",children:(h=e==null?void 0:e.data)==null?void 0:h.nickname}),a("p",{className:"z-10 text-xs text-color-[#fff]",children:["\u7EFC\u5408\u8BC4\u5206 ",(o=e==null?void 0:e.data)==null?void 0:o.synthesis_score," ",(d=e==null?void 0:e.data)==null?void 0:d.score_num,"\u4EBA\u8BC4\u5206"]})]}),a("div",{className:"shadow-sm flex justify-between px-8 py-6 w-[70%] -m-14 bg-[#fff] rounded-lg z-20",children:[a("div",{className:"flex flex-col",children:[n("p",{className:"text-xs",children:"\u5E74\u9F84"}),a("p",{className:"text-sm font-500 text-color-[#292929]",children:[((c=e==null?void 0:e.data)==null?void 0:c.age)||"--","\u5C81"]})]}),a("div",{className:"flex flex-col",children:[n("p",{className:"text-xs",children:"\u4F53\u91CD"}),a("p",{className:"text-sm font-500 text-color-[#292929]",children:[((m=e==null?void 0:e.data)==null?void 0:m.weight)||"--","kg"]})]}),a("div",{className:"flex flex-col",children:[n("p",{className:"text-xs",children:"\u8EAB\u9AD8"}),a("p",{className:"text-sm font-500 text-color-[#292929]",children:[((x=e==null?void 0:e.data)==null?void 0:x.height)||"--","cm"]})]}),a("div",{className:"flex flex-col",children:[n("p",{className:"text-xs",children:"\u80F8\u56F4"}),n("p",{className:"text-sm font-500 text-color-[#292929]",children:((p=e==null?void 0:e.data)==null?void 0:p.chest)||"--"})]})]}),n("div",{className:"shadow-sm flex flex-col px-8 py-4 mb-4 w-[70%] mt-20 bg-[#fff] rounded-lg",children:a("div",{className:"flex flex-col",children:[n("p",{className:"text-xs",children:"\u7B80\u4ECB"}),n("p",{className:"text-xs font-500 text-color-[#292929]",children:((v=e==null?void 0:e.data)==null?void 0:v.introduce)||"--"})]})}),!!(($=e==null?void 0:e.data)!=null&&$.picture.length)&&a("div",{className:"shadow-sm flex h-[144px] flex-col mb-4 w-[70%] mt-1 bg-[#fff] rounded-lg",children:[n(pe,{src:(D=e==null?void 0:e.data)==null?void 0:D.picture[0],onClick:()=>f(!0),className:"rounded-lg",fit:"cover"}),n(Ae.Multi,{images:(w=e==null?void 0:e.data)==null?void 0:w.picture,defaultIndex:1,visible:r,onClose:()=>{f(!1)}})]}),a("div",{className:"shadow-sm flex flex-col px-8 py-4 mb-4 w-[70%] mt-1 bg-[#fff] rounded-lg",children:[a("div",{className:"flex flex-col",children:[n("p",{className:"text-xs",children:"\u57FA\u7840\u670D\u52A1111"}),n("p",{className:"text-sm font-500 text-color-[#292929]",children:(b=e==null?void 0:e.data)==null?void 0:b.basis})]}),a("div",{className:"flex flex-col pt-4",children:[n("p",{className:"text-xs",children:"\u989D\u5916\u670D\u52A1"}),n("p",{className:"text-sm font-500 text-color-[#292929]",children:(g=e==null?void 0:e.data)==null?void 0:g.extra})]})]}),a("div",{className:"shadow-sm flex flex-col px-8 py-4 mb-4 w-[70%] mt-1 bg-[#fff] rounded-lg",children:[a("div",{className:"flex items-center",children:[n("p",{className:"text-xs pr-4",children:"\u5458\u5DE5\u6210\u672C"}),((y=e==null?void 0:e.data)==null?void 0:y.cost_type)===1&&a("p",{className:"text-xs font-600",children:[(A=e==null?void 0:e.data)==null?void 0:A.cost,"%"]})]}),((_=e==null?void 0:e.data)==null?void 0:_.cost_type)===2&&a("div",{className:"text-xs pt-2 font-600",children:[a("p",{className:"flex items-center",children:[((E=(I=e==null?void 0:e.data)==null?void 0:I.cost)==null?void 0:E.eat_in)&&"\u5802\u98DF\uFF1A",(M=(T=(k=e==null?void 0:e.data)==null?void 0:k.cost)==null?void 0:T.eat_in)==null?void 0:M.map((l,F)=>a("span",{children:[l.time,"min\uFF1A$",l==null?void 0:l.price," \xA0"]},F))]}),a("p",{children:[((j=(Z=e==null?void 0:e.data)==null?void 0:Z.cost)==null?void 0:j.take_out)&&"\u5916\u5356\uFF1A",(P=(O=(z=e==null?void 0:e.data)==null?void 0:z.cost)==null?void 0:O.take_out)==null?void 0:P.map((l,F)=>a("span",{children:[l.time,"min\uFF1A$",l==null?void 0:l.price," \xA0"]},F))]})]}),((H=e==null?void 0:e.data)==null?void 0:H.min_duration)&&n("div",{className:"text-xs font-600",children:a("p",{className:"flex items-center",children:["\u6700\u4F4E\u65F6\u957F\uFF1A",a("span",{children:[(L=e==null?void 0:e.data)==null?void 0:L.min_duration,"min"]})]})}),((V=e==null?void 0:e.data)==null?void 0:V.min_price)&&n("div",{className:"text-xs font-600",children:a("p",{className:"flex items-center",children:["\u6700\u4F4E\u5355\u4EF7\uFF1A",a("span",{children:["$",(X=e==null?void 0:e.data)==null?void 0:X.min_price]})]})})]}),n("div",{className:"fixed-b-btn flex",children:n(ge,{onClick:u,className:"w-[70%] h-[2.75rem]",loading:"auto",shape:"rounded",block:!0,type:"submit",color:"primary",loadingIcon:n(Ne,{}),children:"\u7533\u8BF7\u7B7E\u7EA6"})})]}),n("div",{className:"<sm:hidden",children:n(Ye,{detail:e})})]})};export{ns as default};
