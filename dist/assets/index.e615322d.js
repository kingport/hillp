import{r as l,u as N,R as b,df as B,k as E,b as t,j as s,dg as A,S as o}from"./index.5670e6e0.js";import{S as D}from"./Skeleton.c599669d.js";import{H as w}from"./index.04556cd2.js";/* empty css                    *//* empty css                 */const y="_messenger_mox42_1",j={messenger:y},T=()=>{const[a,d]=l.exports.useState([]),m=N(),r=b.useContext(B),{loading:x}=E(()=>A.getNewMessage({}),{onSuccess(e){var u,n,i;r(e==null?void 0:e.data),d([{id:1,title:"\u7EBF\u4E0A\u9884\u7EA6\u63D0\u9192",subTitle:"\u67E5\u770B\u5E76\u56DE\u590D\u9884\u7EA6\u60C5\u51B5",message:(u=e==null?void 0:e.data)==null?void 0:u.sub_count,path:"/messenger/online/booking"},{id:2,title:"\u5173\u8054\u8D26\u53F7\u63D0\u9192",subTitle:"\u5546\u5BB6/\u4E2A\u4EBA\u63D0\u9192",message:(n=e==null?void 0:e.data)==null?void 0:n.ref_count,path:"/messenger/relevance/account"},{id:3,title:"\u5B98\u65B9\u901A\u77E5",subTitle:"\u4E86\u89E3\u5B98\u65B9\u6D3B\u52A8\u53CA\u67E5\u770B\u63D0\u73B0\u7533\u8BF7",message:(i=e==null?void 0:e.data)==null?void 0:i.pub_count,path:"/messenger/official/notice"}])}}),g=e=>{m(e)},p=()=>t("div",{className:"flex flex-col",children:a.map((e,u)=>{const{title:n,id:i,subTitle:h,message:c,path:v}=e;return s(l.exports.Fragment,{children:[s("div",{className:"flex items-center justify-between py-9 px-11",onClick:()=>g(v),children:[s("div",{className:"flex-col",children:[s("div",{className:"flex items-center",children:[t("p",{className:"text-sm font-medium text-color-[#2A4948]",children:n}),!!c&&t("div",{className:"bg-[#2A4948] w-4 h-4 ml-2 rounded-[50%]",children:t("div",{className:"h-[100%] flex justify-center items-center text-xs scale-90 text-[#fff]",children:c})})]}),t("p",{className:"text-xs text-color-[#646464]",children:h})]}),t(o,{name:"verify-right",className:"w-1.5 h-[10px]"})]}),u!==(a==null?void 0:a.length)-1&&t("div",{className:"border-b"})]},i)})}),f=()=>s("div",{className:"hidden shadow-sm flex justify-between items-center rounded-md py-2 px-4 fixed right-5 bottom-30",children:[t(o,{name:"message-publish",className:"w-[18px] h-[18px]"}),t("div",{className:"text-xs pl-1 font-600",children:"\u53D1\u5E03"})]});return x?t(D,{}):s("div",{className:`${j.messenger} pt-[48px]`,children:[t(w,{title:"\u6D88\u606F",border:!0,renderLeft:!1,renderRight:!1}),t(p,{}),t(f,{})]})};export{T as default};
